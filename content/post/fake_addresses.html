---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.282493,47.523857,47.459203,47.573059,47.204119,47.575554,47.63481,47.636103,47.561405,47.555054,47.558279,47.541389,47.553523,47.426682,47.570562,46.346221,47.551327,46.336734,47.538442,47.516516,47.076775,47.565249,47.563118,47.575762,47.569355,47.543775,47.569643,47.515386,47.539269,47.529526,47.577318,47.569413,47.521927,47.527728,47.166435,47.526668,47.574095,47.542128,47.56346,47.550223,47.610177,47.349003,47.535262,47.519168,47.555402,47.518396,47.544303,47.066777,47.539606,47.556856,47.6095,47.580086,47.487699,47.581136,47.621182,47.558046,47.524518,47.373603,47.654538,47.554699,47.532772,47.557945,47.578035,47.573826,47.589806,47.574983,47.578901,47.5661,46.886555,46.971473,46.962343,46.718248,47.396624,47.321753,47.606499,47.461646,47.576325,47.50653,47.27729,47.561124,47.639265,47.294053,47.594903,47.424253,47.640278,47.597273,47.580042,47.531756,47.499109,47.538756,47.483282,47.552156,47.509855,47.470519,47.532562,46.131468,47.541876,47.334695,47.505174,47.473254],[8.473734,7.611819,7.680369,7.595032,7.587672,7.582251,7.597896,7.62649,7.592303,7.57953,7.596686,7.562742,7.610919,8.198256,7.534372,8.571637,7.58105,7.649932,7.567656,7.58587,7.516996,7.601322,7.598474,7.582729,7.57706,7.548835,7.595848,7.523242,7.551909,7.696012,7.589925,7.579406,7.607564,7.68373,7.671583,7.560984,7.704007,7.591028,7.573216,7.610474,7.5385,7.996095,7.635844,7.654845,7.630928,8.266724,7.542889,7.464639,7.522962,7.60594,7.546308,7.654905,7.543606,7.582698,7.589753,7.616867,7.60212,8.923969,7.691209,7.495872,7.498308,7.607284,7.62463,7.604937,7.564405,7.56895,7.570055,7.562713,8.133834,7.030559,7.222812,6.851253,7.81325,7.321708,7.553924,7.600324,7.667008,7.459506,7.166278,7.605945,7.528135,8.232232,7.632047,7.620356,7.552901,7.559458,7.568196,7.613256,7.67068,7.587641,7.627638,7.666449,7.572892,7.84859,7.540395,8.066517,7.437767,7.891871,7.568498,7.594654],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Claude Michaud Obere Bahnhofstrasse 143 Bemer","Albertine Pouchard Breitenstrasse 125 Basel","Raison Boisvert Caltgadira 84 Nunningen","Erik Müller Semperweg 3 Birsfelden","Angelika Holtzmann Kronwiesenweg 24 Kreuzen","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Raison Paré Breitenstrasse 145 Basel","Belisarda Ouellet Breitenstrasse 50 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Mariette Michaud Breitenstrasse 143 Basel","Pierre Mathieu Breitenstrasse 115 Basel","Roux Cormier Via Camischolas sura 28 Dittingen","Wolfgang Metzger Breitenstrasse 101 Basel","Marcel Weiß Mittlerer Thalackerweg 103 Rupperswil","Claudia Krueger Breitenstrasse 104 Basel","Gaston Audet Vallerstrasse 23 Piano","Clarimunda Marleau Erlenweg 117 Benken","Ursula Kuefer Via Albarelle 85 St-Jean","Frontino Boisclair Quadra 75 Ettingen","Ancelote Thériault Breitenstrasse 21 Basel","Belisarda Gaulin Stradun 26 Gossliwil","Russell Rodrigue Breitenstrasse 148 Basel","Talbot Cantin Breitenstrasse 57 Basel","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Christophe Norbert Breitenstrasse 108 Basel","Carine Monjeau Breitenstrasse 135 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Dennis Möller Breitenstrasse 80 Basel","Karin Hertz Breitenstrasse 43 Basel","Swen Koehler Seefeldstrasse 14 Kleinhüningen","Avelaine Mercure Kornquaderweg 134 Reinach","Faustin Lamarre Breitenstrasse 124 Basel","Joséphine Boucher Breitenstrasse 60 Basel","Lukas Dreher Wolfensbergstrasse 122 Riehen","Beltane Beauchamps Möhe 79 Inkwil","Royce Arpin Semperweg 18 Birsfelden","Roslyn Mathieu Semperweg 6 Birsfelden","Xavier Faubert Breitenstrasse 59 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Kerman Rochon Breitenstrasse 5 Basel","Antoine Girard Schulstrasse 45 Wittwil","Sumner Morin Breitenstrasse 87 Basel","Chandler Coupart Breitenstrasse 124 Basel","Matthias Sommer Breitenstrasse 143 Basel","Océane Louis Clius 48 Oberehrendingen","Nadine Naumann Breitenstrasse 7 Basel","Melville Henrichon Jakobstrasse 27 Oberwil bei Büren","Karin Fenstermacher Breitenstrasse 108 Basel","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Julia Duerr Wiesenstrasse 128 Basel","Maria Krueger Breitenstrasse 111 Basel","Annot Lauzier Obere Bahnhofstrasse 114 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Leah Bürger Breitenstrasse 120 Basel","Stephan Eggers Breitenstrasse 24 Basel","Michelle Freitag Breitenstrasse 105 Basel","Christian Schuhmacher Rägetenstrasse 34 Horben bei Sirnach","Anna Ostermann Breitenstrasse 46 Basel","Manuela Seiler Breitenstrasse 101 Basel","Martina Pfeffer Obere Bahnhofstrasse 82 Bättwil","Jennifer Krause Breitenstrasse 132 Basel","Silke Luft Obere Bahnhofstrasse 150 Basel","Jana Zimmerman Semperweg 84 Birsfelden","Clementine Bellefeuille Erlenweg 46 Benken","Klaus Neustadt Breitenstrasse 128 Basel","Ralph Gärtner Breitenstrasse 56 Basel","Stefan Junker Kornquaderweg 14 Reinach","Ursula Hoch Mühle 26 Schoried","Zerbino Jomphe Avenue d'Ouchy 48 Portalban","Dexter Brisette Boldistrasse 42 Niederried bei Kallnach","Anaïs Baril Piazza Rezzonico 111 Villeneuve","Gauthier Chartré Via Franscini 132 Trimbach","Heloise Faure Bergrain 72 Châtillon","Patrice Audet Wiesenstrasse 38 Basel","Odelette Boucher Üerklisweg 29 Brislach","Susanne Traugott Wiesenstrasse 26 Basel","Heike Sankt Grossmatt 36 Biel-Benken","Thorsten Fenstermacher Via Altisio 61 Sonceboz-Sombeval","Sylvie Roussel Breitenstrasse 36 Basel","Monika Herz Breitenstrasse 144 Basel","Michael Kappel Erlenweg 95 Berg","Katharina Mauer Breitenstrasse 91 Basel","Archaimbau Bédard Casa Gielgia 127 Muttenz","Katja Zweig Breitenstrasse 82 Basel","Jan Grunewald Jakobstrasse 97 Oberwil","Isaac Cliche Obere Bahnhofstrasse 43 Bättwil","Azura Jardine Breitenstrasse 11 Basel","Loyal Auclair Breitenstrasse 122 Basel","Manuela Krueger Breitenstrasse 109 Basel","Heloise Laderoute Breitenstrasse 135 Basel","Jörg Kastner Breitenstrasse 128 Basel","Courtland Laforest Breitenstrasse 16 Basel","Estelle Plaisance Gartenhof 35 Arisdorf","Merle Gauthier Neubertbogen 12 Rodersdorf","Florian Traugott Binzmühlestrasse 150 Saas Grund","Birgit Achen Schulstrasse 114 Witterswil","Mike Friedman Casut 119 Linde","Steffen Reinhard Jakobstrasse 30 Oberwil","Angelika Hofmann Erlenweg 102 Benken"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.131468,47.654538],"lng":[6.851253,8.923969]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
