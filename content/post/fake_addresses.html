---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.332582,47.561405,47.532562,47.585439,47.588734,47.563118,47.597408,46.941533,47.558279,47.526081,47.519441,47.573826,47.618491,47.496706,47.558181,46.964365,47.511728,47.503331,47.573059,47.230629,47.558046,47.281912,46.991654,47.065885,47.56346,47.575554,47.538756,47.616888,47.529682,47.587513,47.363761,47.597157,47.555182,47.554096,47.575762,47.589625,47.569643,47.567309,47.555054,47.565249,47.555402,47.551327,47.577318,47.590619,47.211568,47.581136,46.739211,47.666462,47.561124,47.569553,47.49885,47.235604,47.377054,47.603499,47.380313,47.396846,47.317932,47.569959,47.249172,46.746857,47.556856,47.492882,47.557921,46.595089,47.564054,47.610177,47.591819,47.475752,47.636256,47.463198,47.475735,46.922558,47.499319,47.439988,47.550561,47.443843,47.553804,47.590262,47.569355,47.535092,47.541389,47.531462,47.550223,47.524518,46.889207,47.435885,47.515386,47.311347,47.473988,46.767152,47.492867,47.512442,47.531756,46.277056,47.52477,47.557945,47.573673,47.619476,47.456016,47.574983],[7.999991,7.592303,7.540395,7.608061,7.604532,7.598474,7.589944,7.671784,7.596686,7.581644,7.584736,7.604937,7.54454,7.589954,7.618411,6.838963,7.585933,7.578087,7.595032,7.619168,7.616867,7.561795,7.692361,7.331754,7.573216,7.582251,7.587641,7.614402,7.499115,7.692723,7.750656,7.577752,7.563883,7.638068,7.582729,7.674763,7.595848,7.65015,7.57953,7.601322,7.630928,7.58105,7.589925,7.623628,8.230486,7.582698,6.529281,7.67678,7.605945,7.658723,7.63172,7.459572,7.577283,7.648245,7.548664,7.783478,7.621881,7.571221,7.75948,7.073327,7.60594,7.793975,7.547877,9.636087,7.531788,7.5385,8.453745,7.471949,7.522736,7.741952,7.646213,7.352959,7.830133,7.47207,7.615492,8.145644,7.547647,7.662171,7.57706,7.574695,7.562742,7.565799,7.610474,7.60212,7.248174,7.509148,7.523242,7.77351,7.618279,6.989959,7.509299,7.609501,7.613256,8.907541,7.664553,7.607284,7.55021,7.541968,7.606624,7.56895],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Mandy Hertz Kronwiesenweg 58 Küttigen","Gilles Gervais Kornquaderweg 66 Reinach","Merle Gauthier Neubertbogen 12 Rodersdorf","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Kristin Probst Breitenstrasse 93 Basel","Talbot Cantin Breitenstrasse 57 Basel","Ferragus Beauchemin Breitenstrasse 50 Basel","Patricia Mireault Brunnenstrasse 45 Rüegsau","Pierre Mathieu Breitenstrasse 115 Basel","Belle Riel Breitenstrasse 3 Basel","Alexandrin Avare Breitenstrasse 91 Basel","Jana Zimmerman Semperweg 84 Birsfelden","Marc Rivière Breitenstrasse 104 Basel","Christian Bieber Semperweg 46 Birsfelden","Felix Neudorf Breitenstrasse 76 Basel","Paul Schultz Casa Gielgia 91 Neuchâtel","Roch Jobin Seefeldstrasse 10 Kleinhüningen","Ralf Schwab Breitenstrasse 17 Basel","Erik Müller Semperweg 3 Birsfelden","Antje Weiss Wiesenstrasse 111 Balmberg","Stephan Eggers Breitenstrasse 24 Basel","Aymon Thivierge Langwiesstrasse 146 Wiedlisbach","Manon Blondlot Brucknerweg 68 Hasle bei Burgdorf","Auriville Roy Kronwiesenweg 8 Kosthofen","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Manuela Krueger Breitenstrasse 109 Basel","Markus Reinhardt Postfach 51 Allschwil","Paul Beaudry Wiesenstrasse 61 Basel","Martin Moench Breitenstrasse 88 Basel","Mario Gottlieb Fortunastrasse 53 Eptingen","Tristan Arnoux Breitenstrasse 123 Basel","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Heike Fuerst Via Schliffras 49 Gempen","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Etoile Soucy Wiesenstrasse 111 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Prewitt Davignon Herrenberg 4 Pratteln","Mariette Michaud Breitenstrasse 143 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Matthias Sommer Breitenstrasse 143 Basel","Clarimunda Marleau Erlenweg 117 Benken","Avelaine Mercure Kornquaderweg 134 Reinach","David Bader Casa Gielgia 108 Muttenz","Charles Lesage Wingertweg 4 Emmenbrücke","Romain Thériault Grossmatt 58 Biel-Benken","Anne Dufour Via Luzzas 148 Ferreyres","Paul Friedman Breitenstrasse 81 Basel","Sylvie Roussel Breitenstrasse 36 Basel","Max Schröder Breitenstrasse 101 Basel","Emmanuelle Houde Breitenstrasse 117 Basel","Xavierre Brault Clius 11 Oberdorf","Sabrina Fenstermacher Kopfhölzistrasse 18 Lauwil","Eric Kohl Wiesenstrasse 32 Basel","Karolin Kuefer Obere Bahnhofstrasse 146 Beinwil","Mike Abendroth Caltgadira 87 Nuglar-St. Pantaleon","Alexandrie Lachapelle Jakobstrasse 12 Oensingen","Roux Béland Sonnenweg 54 Mariastein","Dirk Freytag Kammelenbergstrasse 6 Forst","Karolin Kohler Stradun 51 Granges-Paccot","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Henriette Cloutier Strickstrasse 13 Zunzgen","Fabienne Therriault Breitenstrasse 98 Basel","Josette Loiseau Bahnhofplatz 68 Alvaneu Bad","Agathe CinqMars Breitenstrasse 48 Basel","Kerman Rochon Breitenstrasse 5 Basel","Antje Gärtner Mittlerer Thalackerweg 12 Rümikon","Étienne Course Obere Bahnhofstrasse 16 Bättwil","Moore Corbin Breitenstrasse 29 Basel","Philip Veronneau Gartenhof 75 Arboldswil","Moore Lanteigne Via Schliffras 89 Gempen","Benjamin Lange Via Muraccio 39 Stuckishaus","Klaus Wannemaker Scheidweg 99 Häfelfingen","Florian Drechsler Plattenstrasse 15 Recolaine","Xavierre Margand Breitenstrasse 123 Basel","Dennis Bach Via Gabbietta 131 Veltheim","Anna Wannemaker Via dalla Staziun 48 Dornach","Matthias Winkel Casa Gielgia 104 Muttenz","Christophe Norbert Breitenstrasse 108 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Roux Cormier Via Camischolas sura 28 Dittingen","Barbara Pabst Breitenstrasse 22 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Michelle Freitag Breitenstrasse 105 Basel","Erik Wexler Postfach 93 Albligen","Martina Vogler Lichtmattstrasse 125 Burg im Leimental","Dennis Möller Breitenstrasse 80 Basel","Georges Vallée Scheidweg 121 Gunzgen","Arnou Jetté Postfach 2 Allschwil","Martin Baader Im Sandbüel 56 Fribourg","Maik Glockner In Stierwisen 143 Metzerlen","Émile Allard Obere Bahnhofstrasse 8 Basel","Azura Jardine Breitenstrasse 11 Basel","Ansel Fournier Piazza Rezzonico 89 Vogorno","Turner Dupuis Breitenstrasse 145 Basel","Jennifer Krause Breitenstrasse 132 Basel","Holly Garnier Breitenstrasse 14 Basel","Maik Feierabend Mittlerer Thalackerweg 68 Rümlang","Laure Lebrun Breitenstrasse 21 Basel","Klaus Neustadt Breitenstrasse 128 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.277056,47.666462],"lng":[6.529281,9.636087]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
