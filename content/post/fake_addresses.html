---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.565456,47.569355,47.324906,47.555054,47.54745,46.312599,47.575554,47.572112,47.551327,47.575762,47.557945,47.56346,47.561405,47.460064,47.473254,47.565249,47.514232,47.008852,47.60018,47.613076,47.541491,47.558279,47.566161,47.331416,47.577318,47.532773,47.655882,47.48132,46.827544,47.578901,47.268742,47.556856,47.470627,46.819629,47.569959,47.564054,47.581136,46.775983,47.538656,47.347308,47.078625,47.565718,47.475735,47.577867,46.290263,47.553952,47.584901,47.465713,47.585439,47.496706,47.465888,47.561124,47.563118,47.274809,47.558492,47.617086,47.558181,47.38269,47.189128,47.500227,47.606499,47.529355,47.569413,47.580042,47.471078,47.573059,47.550581,47.590303,47.542128,47.578035,47.31104,47.522546,47.47549,47.538756,47.60891,47.501518,47.598788,47.480673,46.331184,46.93892,47.563678,47.396061,47.540379,47.181949,47.557921,47.532378,47.589108,47.624091,47.569643,47.582553,47.254324,47.541668,47.517298,47.523857,47.50774,47.542142,47.527208,47.396982,47.536326,47.525576],[7.553322,7.57706,7.436526,7.57953,7.667288,7.43232,7.582251,7.499736,7.58105,7.582729,7.607284,7.573216,7.592303,8.589209,7.594654,7.601322,7.555697,7.444382,7.574211,7.594293,7.524295,7.596686,7.633143,7.693326,7.589925,7.539152,9.043916,7.542348,6.799312,7.570055,8.627556,7.60594,8.10149,7.535728,7.571221,7.531788,7.582698,6.649154,7.597982,7.35516,8.455402,7.604323,7.646213,7.625725,6.96793,7.520471,7.649638,7.636093,7.608061,7.589954,8.370538,7.605945,7.598474,7.459712,7.629217,7.527623,7.618411,7.436232,8.719199,7.620991,7.553924,8.251408,7.579406,7.568196,7.657863,7.595032,7.56136,7.618519,7.591028,7.62463,7.349474,7.565465,7.661916,7.587641,8.447076,7.54699,7.679486,7.56439,8.88968,7.468873,7.642709,7.635937,7.570688,7.801114,7.547877,7.781216,7.670759,7.576236,7.595848,7.560051,7.682163,7.631807,7.636251,7.611819,7.756146,7.600017,7.544996,7.554885,7.54312,7.604952],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Amedee Pomerleau Breitenstrasse 8 Basel","Christophe Norbert Breitenstrasse 108 Basel","Didiane Guibord Plattenstrasse 37 Rebeuvelier","Mariette Michaud Breitenstrasse 143 Basel","Dieter Klein Breitenstrasse 111 Basel","Eric Freeh Betburweg 60 Luc","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Mallory Marcheterre Kammelenbergstrasse 136 Flüh","Clarimunda Marleau Erlenweg 117 Benken","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Jennifer Krause Breitenstrasse 132 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Fanchon Lemaître Caltgadira 88 Nussbaumen","Angelika Hofmann Erlenweg 102 Benken","Russell Rodrigue Breitenstrasse 148 Basel","Julienne Riquier Breitenstrasse 106 Basel","Armand Duval Rosenweg 127 Lätti","Anna Berg Breitenstrasse 39 Basel","Claude Duhamel Breitenstrasse 138 Basel","Danielle Favreau Semperweg 139 Blauen","Pierre Mathieu Breitenstrasse 115 Basel","Katja Freeh Breitenstrasse 33 Basel","Bernard Carignan Sonnenbergstr 134 Bretzwil","Avelaine Mercure Kornquaderweg 134 Reinach","Jürgen Müller Breitenstrasse 83 Basel","Christian Daecher Rägetenstrasse 109 Homburg","Jessamine Beaudry Erlenweg 95 Benken","Marie Kastner Kammelenbergstrasse 89 Frasses","Ralph Gärtner Breitenstrasse 56 Basel","Sabine Seiler Via Verbano 14 Uster","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Juliane Rothschild Clius 79 Oberflachs","Gustave Picard Pfaffacherweg 29 Schlosswil","Roux Béland Sonnenweg 54 Mariastein","Agathe CinqMars Breitenstrasse 48 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Niklas Metzger Hauptstrasse 82 Montagny-près-Yverdon","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Angelika Werner Via Altisio 60 Souboz","Max Scholz Strickstrasse 97 Zug","Oriel Chenard Gartenhof 117 Arlesheim","Moore Lanteigne Via Schliffras 89 Gempen","Niklas Fischer Wiesenstrasse 106 Basel","Caresse Moreau Jakobstrasse 87 Ollon","Fanchon Garreau Wiesenstrasse 107 Basel","Jörg Barth Obere Bahnhofstrasse 111 Basel","Camille Ménard Kornquaderweg 120 Reinach","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Christian Bieber Semperweg 46 Birsfelden","Platt Raymond Erlenweg 130 Bergdietikon","Sylvie Roussel Breitenstrasse 36 Basel","Talbot Cantin Breitenstrasse 57 Basel","Lucas Freud Wingertweg 22 Envelier","Jörg Ritter Breitenstrasse 128 Basel","Barbara Egger Breitenstrasse 132 Basel","Felix Neudorf Breitenstrasse 76 Basel","Jan Braun Caltgadira 97 Ober Huggerwald","Manville Sansouci Sondanella 80 Grüningen","Pansy Lambert Wiesenstrasse 23 Basel","Patrice Audet Wiesenstrasse 38 Basel","Katrin Schwab Kopfhölzistrasse 30 Lauffohr","Faustin Lamarre Breitenstrasse 124 Basel","Isaac Cliche Obere Bahnhofstrasse 43 Bättwil","Moore Fréchette Breitenstrasse 93 Basel","Erik Müller Semperweg 3 Birsfelden","Diana Kruger Breitenstrasse 45 Basel","Uwe Bergmann Breitenstrasse 72 Basel","Xavier Faubert Breitenstrasse 59 Basel","Silke Luft Obere Bahnhofstrasse 150 Basel","Diana Bar Bösch 28 Court","Eric Drescher Breitenstrasse 119 Basel","Maik Zweig Püntstrasse 97 Ziefen","Manuela Krueger Breitenstrasse 109 Basel","Stéphanie Pépin Mühle 32 Schüpfheim","Christian Diederich Stradun 130 Grellingen","Niklas Meyer Breitenstrasse 44 Basel","Fletcher Giguère Via Schliffras 46 Gempen","Aya Laderoute Möhe 5 Iragna","Colette Guernon Püntstrasse 51 Ziegelried","Victoire Plouffe Breitenstrasse 17 Basel","Alexandrin Chouinard Strickstrasse 118 Zullwil","Marine Lajeunesse Semperweg 144 Binningen","Arienne Labrie Betburweg 147 Lotzwil","Fabienne Therriault Breitenstrasse 98 Basel","Zacharie Vernadeau Forrenböhlstrasse 149 Kaiseraugst","Quincy Houde Breitenstrasse 109 Basel","Juliane Bergmann Breitenstrasse 94 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Franziska Adler Breitenstrasse 138 Basel","Tim Cole Im Wingert 74 Leen","Fleur Benjamin Breitenstrasse 138 Basel","Benjamin Beike Breitenstrasse 50 Basel","Albertine Pouchard Breitenstrasse 125 Basel","Pascaline Rivière Strickstrasse 146 Zunzgen","Karolin Wirtz Erlenweg 27 Benken","Creissant Maheu Breitenstrasse 31 Basel","Wolfgang Krueger Quadra 46 Ettingen","Tilly Raymond Wiesenstrasse 15 Basel","Dennis Beike Breitenstrasse 143 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.290263,47.655882],"lng":[6.649154,9.043916]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
