---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.399791,47.558279,47.561405,47.555182,47.526081,47.468796,47.203254,47.53655,47.565249,47.569643,47.529682,47.603506,47.56346,47.574195,47.565718,47.550288,47.574983,47.569959,47.521927,47.575554,47.569355,47.555054,47.407607,47.557945,47.553243,47.575762,47.551327,47.550561,47.541912,47.566917,47.563118,47.495417,47.577318,47.252938,47.598701,47.516516,47.558181,47.582553,47.556856,47.538656,47.578035,47.553804,47.621182,47.538808,46.545542,47.536676,47.619054,47.325917,47.573059,47.447349,47.279945,47.660791,47.456016,47.508941,47.573673,47.522546,47.48861,47.456479,47.068374,47.525576,47.631875,47.590303,47.542142,47.524874,47.595195,47.459545,47.528175,47.526668,47.037996,47.616123,47.589806,46.744603,47.35795,47.587961,47.030424,47.616888,47.609974,47.332536,47.347918,47.558046,47.507088,46.978102,47.503543,47.089056,47.550223,47.432602,47.191945,47.538756,47.554096,47.55931,47.480078,47.514232,47.310443,47.517686,47.613076,47.564588,47.446676,47.480673,47.57356,47.525764],[7.551275,7.596686,7.592303,7.563883,7.581644,7.215705,8.912841,7.500486,7.601322,7.595848,7.499115,7.591727,7.573216,7.654696,7.604323,7.616943,7.56895,7.571221,7.607564,7.582251,7.57706,7.57953,7.696352,7.607284,7.630678,7.582729,7.58105,7.615492,7.707795,7.564617,7.598474,7.622759,7.589925,7.744891,7.613038,7.58587,7.618411,7.560051,7.60594,7.597982,7.62463,7.547647,7.589753,7.496516,8.974574,7.640096,7.597133,7.53877,7.595032,7.552987,7.746784,7.537225,7.606624,7.6681,7.55021,7.565465,7.634512,7.512721,7.197627,7.604952,7.501508,7.618519,7.600017,7.577415,8.028924,7.571142,7.586542,7.560984,7.746346,7.699977,7.564405,7.21399,7.74096,7.625032,7.392192,7.614402,7.631903,7.588054,7.656428,7.616867,7.543252,7.840677,7.646798,7.544684,7.610474,7.739283,7.160532,7.587641,7.638068,7.696595,7.617398,7.555697,7.755016,7.630833,7.594293,7.669861,7.53608,7.56439,7.600375,7.483586],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Katharina Schuster Allmenrüti 125 Seewen","Pierre Mathieu Breitenstrasse 115 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Belle Riel Breitenstrasse 3 Basel","Andrea Schröder Bergrain 21 Charmoille","Malagigi Beaulieu Erlenweg 105 Benken","Hugh Sanschagrin Wiesenstrasse 147 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Paul Beaudry Wiesenstrasse 61 Basel","Robert De La Vergne Wiesenstrasse 17 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Dorothée Laliberté Grossmatt 99 Bettingen","Oriel Chenard Gartenhof 117 Arlesheim","Maximilian Scherer Vallerstrasse 59 Pfeffingen","Klaus Neustadt Breitenstrasse 128 Basel","Roux Béland Sonnenweg 54 Mariastein","Joséphine Boucher Breitenstrasse 60 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Christophe Norbert Breitenstrasse 108 Basel","Mariette Michaud Breitenstrasse 143 Basel","Maximilian Kuester Piazza Indipendenza 125 Titterten","Jennifer Krause Breitenstrasse 132 Basel","Barry Giroux Caltgadira 8 Nuglar-St. Pantaleon","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Clarimunda Marleau Erlenweg 117 Benken","Xavierre Margand Breitenstrasse 123 Basel","Cher Paiement Mattenstrasse 86 Sissach","Lotye Margand Breitenstrasse 44 Basel","Talbot Cantin Breitenstrasse 57 Basel","Andrée Girard Seefeldstrasse 61 Kleinhüningen","Avelaine Mercure Kornquaderweg 134 Reinach","Torsten Hertz Im Wingert 35 Leen","Marcelle Duplanty Breitenstrasse 74 Basel","Ancelote Thériault Breitenstrasse 21 Basel","Felix Neudorf Breitenstrasse 76 Basel","Franziska Adler Breitenstrasse 138 Basel","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Silke Luft Obere Bahnhofstrasse 150 Basel","Anna Wannemaker Via dalla Staziun 48 Dornach","Leah Bürger Breitenstrasse 120 Basel","Frontino Émond Grossmatt 69 Biel-Benken","Madelene Roux Glennerstrasse 112 Ghirone","Jeanne Martineau Casa Gielgia 43 Nenzlingen","Lucas Theiss Breitenstrasse 49 Basel","Maria Adler Caltgadira 86 Nunningen","Erik Müller Semperweg 3 Birsfelden","Angelika Aachen Obere Bahnhofstrasse 33 Beinwil","Elita Achin Mühle 119 Schörlishäusern","Verrill Compagnon Breitenstrasse 145 Basel","Laure Lebrun Breitenstrasse 21 Basel","Uwe Rothstein Breitenstrasse 69 Basel","Holly Garnier Breitenstrasse 14 Basel","Eric Drescher Breitenstrasse 119 Basel","Max Werner Breitenstrasse 99 Basel","Sandra Beckenbauer Grossmatt 21 Biel-Benken","Rabican Soucy Casa Gielgia 86 Nant","Dennis Beike Breitenstrasse 143 Basel","Mario Kunze Breitenstrasse 123 Basel","Uwe Bergmann Breitenstrasse 72 Basel","Karolin Wirtz Erlenweg 27 Benken","Russell Édouard Grossmatt 145 Biel-Benken","Fantina Perillard Jakobstrasse 130 Oeschgen","Harriette Varieur Schulstrasse 66 Witterswil","Dirk Lang Breitenstrasse 107 Basel","Royce Arpin Semperweg 18 Birsfelden","Gaston Paradis Via delle Vigne 111 Waldhaus","Burkett Gaulin Wiesenstrasse 67 Basel","Clementine Bellefeuille Erlenweg 46 Benken","Silke Dreher Üerklisweg 85 Brünisried","Louise LeBatelier Erlenweg 116 Bennwil","Faye Leduc Breitenstrasse 127 Basel","Kristin Eberhardt Erlenweg 60 Bern","Markus Reinhardt Postfach 51 Allschwil","Chappell Fournier Mühle 58 Schweizerhalle","Michelle Schultz Allmenrüti 36 Seehof","Sabine Friedman Gartenhof 85 Arboldswil","Stephan Eggers Breitenstrasse 24 Basel","Crescent Rhéaume Breitenstrasse 150 Basel","Yvette Bonneville Via Franscini 104 Trubschachen","Ogier Gougeon Breitenstrasse 45 Basel","Frank Ziegler Allmenrüti 61 Seewil","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Mike Weiss Wiesenstrasse 49 Bärenwil","Charlotte Beaulieu Via Camischolas sura 46 Diesse","Manuela Krueger Breitenstrasse 109 Basel","Heike Fuerst Via Schliffras 49 Gempen","Emmeline Benjamin Im Sandbüel 17 Frenkendorf","Julien Laforge Breitenstrasse 82 Basel","Julienne Riquier Breitenstrasse 106 Basel","Karin Dresdner Kornquaderweg 136 Reigoldswil","Silke Gottschalk Breitenstrasse 136 Basel","Claude Duhamel Breitenstrasse 138 Basel","Martin Schneider Wiesenstrasse 59 Basel","Michelle Cole Via dalla Staziun 94 Dornach","Fletcher Giguère Via Schliffras 46 Gempen","Gano Massé Breitenstrasse 100 Basel","Charline Faure Caltgadira 13 Ober Huggerwald"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.545542,47.660791],"lng":[7.160532,8.974574]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
