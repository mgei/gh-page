---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.551327,47.575554,47.557945,47.561405,47.622741,47.540379,47.361939,47.569959,47.565249,47.57356,47.431707,47.487243,47.492602,47.511398,47.597273,47.458838,47.538756,47.543775,47.557921,47.616888,47.563118,46.939489,47.603506,47.610099,47.558279,47.582553,47.555054,47.542142,47.56346,46.871287,47.418167,47.473988,47.558181,47.534613,47.232526,47.581136,47.569643,47.482494,47.603499,47.496082,47.589625,47.46844,47.594249,47.204119,47.370622,47.539269,47.505991,46.753333,47.452472,47.254809,46.226005,47.423313,47.562363,47.538974,47.471649,47.252416,47.209156,47.620081,47.532562,47.534365,47.565718,47.5661,47.469184,47.484532,47.141451,47.577318,47.553523,47.569355,46.861806,47.573059,47.569413,47.550561,47.216437,47.513229,47.354953,47.322912,47.618491,47.535334,47.585439,47.631947,47.519441,47.470632,47.538656,47.507088,47.486141,47.593376,47.56157,46.842702,47.482477,47.51155,47.535092,47.619476,47.526668,47.39097,47.525576,47.594857,47.524518,47.502383,47.550223,47.151414],[7.58105,7.582251,7.607284,7.592303,7.608144,7.570688,7.401727,7.571221,7.601322,7.600375,7.665925,7.592837,7.612273,7.620834,7.559458,7.527177,7.587641,7.548835,7.547877,7.614402,7.598474,7.134213,7.591727,7.604359,7.596686,7.560051,7.57953,7.600017,7.573216,7.418876,7.64002,7.618279,7.618411,7.615801,7.619919,7.582698,7.595848,7.520094,7.648245,7.670984,7.674763,7.588269,7.662225,7.587672,8.01062,7.551909,7.623632,7.664684,7.784123,7.806502,8.770827,7.724482,7.732243,7.636048,7.565772,8.606497,8.612122,7.677643,7.540395,7.667468,7.604323,7.562713,7.413992,7.670779,8.504632,7.589925,7.610919,7.57706,7.42831,7.595032,7.579406,7.615492,7.589275,7.550889,7.244066,7.456202,7.54454,7.569795,7.608061,7.532992,7.584736,7.614007,7.597982,7.543252,7.627682,8.221565,7.532995,7.327369,7.519008,7.554348,7.574695,7.541968,7.560984,7.667755,7.604952,7.636737,7.60212,7.562501,7.610474,8.739267],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Clarimunda Marleau Erlenweg 117 Benken","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Jennifer Krause Breitenstrasse 132 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Petra Schäfer Breitenstrasse 123 Basel","Marine Lajeunesse Semperweg 144 Binningen","Lisa Rothstein Untere Aegerten 30 Corban","Roux Béland Sonnenweg 54 Mariastein","Russell Rodrigue Breitenstrasse 148 Basel","Gano Massé Breitenstrasse 100 Basel","René Mehler Quadra 33 Fehren","Élise Mailloux Breitenstrasse 136 Basel","Torsten Friedman Breitenstrasse 84 Basel","Jonas Krueger Breitenstrasse 63 Basel","Jan Grunewald Jakobstrasse 97 Oberwil","Robert Fuhrmann Rasenstrasse 133 Himmelried","Manuela Krueger Breitenstrasse 109 Basel","Carine Monjeau Breitenstrasse 135 Basel","Fabienne Therriault Breitenstrasse 98 Basel","Markus Reinhardt Postfach 51 Allschwil","Talbot Cantin Breitenstrasse 57 Basel","Bernd Kohler Seefeldstrasse 50 Kleinbösingen","Robert De La Vergne Wiesenstrasse 17 Basel","Cammile Marseau Wiesenstrasse 90 Basel","Pierre Mathieu Breitenstrasse 115 Basel","Franziska Adler Breitenstrasse 138 Basel","Mariette Michaud Breitenstrasse 143 Basel","Karolin Wirtz Erlenweg 27 Benken","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Yvonne Baader Forrenböhlstrasse 85 Kehrsatz","Claude Fongemie Im Sandbüel 26 Füllinsdorf","Arnou Jetté Postfach 2 Allschwil","Felix Neudorf Breitenstrasse 76 Basel","Pensee Monjeau Breitenstrasse 42 Basel","Natalie Demers Obere Bahnhofstrasse 3 Bätterkinden","Romain Thériault Grossmatt 58 Biel-Benken","Benjamin Eichel Breitenstrasse 25 Basel","Garland Brasseur Kornquaderweg 72 Reinach","Eric Kohl Wiesenstrasse 32 Basel","Frank Rothstein Breitenstrasse 95 Basel","Etoile Soucy Wiesenstrasse 111 Basel","Torsten Konig Breitenstrasse 42 Basel","Lucas Bureau Grossmatt 137 Bettingen","Angelika Holtzmann Kronwiesenweg 24 Kreuzen","Marc Godin Mülhauserstrasse 92 Mühlethal","Karin Hertz Breitenstrasse 43 Basel","Uta Dietrich Postfach 78 Allschwil","Benoît Giguère Piazza Indipendenza 45 Thun","Swen Hoch Scheidweg 131 Häfelfingen","Cher Paquin Rosenweg 45 Langenthal","Heloise Faucher Schuetzenweg 80 Mergoscia","Andreas Eiffel Gartenhof 4 Arisdorf","Galatee Chicoine Wolfensbergstrasse 137 Riehen","Erik Moeller Wiesenstrasse 36 Basel","Germaine Desforges Stradun 135 Grellingen","Stefan Freitag Fortunastrasse 14 Erlenbach","Gilles Martel Rägetenstrasse 86 Horgen","Sara Schmitz Breitenstrasse 60 Basel","Merle Gauthier Neubertbogen 12 Rodersdorf","Andreas Eichmann Kopfhölzistrasse 137 Lausen","Oriel Chenard Gartenhof 117 Arlesheim","Stefan Junker Kornquaderweg 14 Reinach","Julia Engel Casa Posrclas 74 Ederswiler","Caresse Quinn Üerklisweg 57 Bubendorf","Océane Allain Via dalla Staziun 107 Ebertswil","Avelaine Mercure Kornquaderweg 134 Reinach","Wolfgang Metzger Breitenstrasse 101 Basel","Christophe Norbert Breitenstrasse 108 Basel","Thorsten Schreiber Höhenweg 123 Helgisried","Erik Müller Semperweg 3 Birsfelden","Faustin Lamarre Breitenstrasse 124 Basel","Xavierre Margand Breitenstrasse 123 Basel","Markus Bachmeier Kronwiesenweg 90 Küttigkofen","Jeanne LaGarde Breitenstrasse 36 Basel","Patrick Gruenewald Kammelenbergstrasse 21 Fornet-Dessous","Orson Boutot Via delle Vigne 120 Wahlen","Marc Rivière Breitenstrasse 104 Basel","Kathrin Scherer Breitenstrasse 24 Basel","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Phillipa Clavette Wiesenstrasse 119 Basel","Alexandrin Avare Breitenstrasse 91 Basel","Matthias Kohler Semperweg 143 Blauen","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Crescent Rhéaume Breitenstrasse 150 Basel","Francis Turcotte Sonnenbergstr 90 Bretzwil","Benjamin Doucet Via dalla Staziun 57 Döttingen","Marcel Benoit Breitenstrasse 102 Basel","Heike Kuester Caltgadira 55 Niederwangen","Marie Eberhardt Caltgadira 144 Nunningen","Kristian Baumgartner Breitenstrasse 146 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Maik Feierabend Mittlerer Thalackerweg 68 Rümlang","Royce Arpin Semperweg 18 Birsfelden","Philippe Pellerin Mülhauserstrasse 70 Mümliswil-Ramiswil","Dennis Beike Breitenstrasse 143 Basel","Sebastian Beyer Breitenstrasse 81 Basel","Michelle Freitag Breitenstrasse 105 Basel","Éric Bussière Wiesenstrasse 128 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Guerin Champagne Binzmühlestrasse 76 Samstagern"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.226005,47.631947],"lng":[7.134213,8.770827]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
