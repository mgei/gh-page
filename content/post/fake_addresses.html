---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.5661,47.561405,47.573673,47.461758,47.652566,47.542128,47.56346,47.542142,47.565718,47.573059,47.609626,47.582553,47.490066,47.558279,47.529489,47.587961,47.550561,47.575554,47.408446,47.082209,47.536326,47.563118,47.56157,47.496023,47.577318,47.640278,46.770774,47.59597,47.569643,47.569413,47.553523,47.534042,47.264513,46.950393,47.566917,47.414818,47.374263,47.487326,47.569959,47.521502,47.565249,47.362287,46.811287,47.555054,47.560061,47.603506,47.459545,47.621465,47.45897,47.517715,47.473476,47.419191,47.53551,47.519168,47.5856,47.574983,47.147021,47.517448,47.490652,47.613076,47.581136,47.512442,47.578167,47.594857,47.550752,46.947766,47.483064,47.219662,47.561366,47.575762,47.569355,47.609974,47.514232,47.471852,47.573826,47.333755,47.513229,47.636027,46.84254,47.193591,47.099595,47.551327,47.513245,47.503543,47.180986,47.616269,47.504612,47.535638,47.346756,47.464451,47.387043,47.558046,47.169031,47.487438,47.471625,47.540379,47.318226,47.590619,47.578035,47.577934],[7.562713,7.592303,7.55021,7.452945,7.566391,7.591028,7.573216,7.600017,7.604323,7.595032,7.838808,7.560051,7.667433,7.596686,7.698832,7.625032,7.615492,7.582251,7.503066,7.314259,7.54312,7.598474,7.532995,7.641358,7.589925,7.552901,7.511414,7.516852,7.595848,7.579406,7.610919,7.654217,7.326601,7.836663,7.564617,7.688291,8.254274,7.53501,7.571221,7.599317,7.601322,7.889832,7.208993,7.57953,7.522549,7.591727,7.571142,7.668836,7.846098,7.680069,7.557212,7.666218,7.657616,7.654845,7.555354,7.56895,7.452031,7.660269,7.54022,7.594293,7.582698,7.609501,7.540974,7.636737,7.516167,7.272235,7.391531,7.577864,8.205828,7.582729,7.57706,7.631903,7.555697,7.41138,7.604937,7.578928,7.550889,7.590156,7.644823,7.553763,7.693926,7.58105,7.587098,7.646798,7.562719,7.61316,7.650914,7.632114,7.97632,8.190587,7.747974,7.616867,7.588805,7.605476,7.642748,7.570688,7.247537,7.623628,7.62463,9.0524],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Stefan Junker Kornquaderweg 14 Reinach","Gilles Gervais Kornquaderweg 66 Reinach","Holly Garnier Breitenstrasse 14 Basel","Annett Ackerman Caltgadira 41 Ober Huggerwald","Sébastien Deslauriers Breitenstrasse 109 Basel","Xavier Faubert Breitenstrasse 59 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Karolin Wirtz Erlenweg 27 Benken","Oriel Chenard Gartenhof 117 Arlesheim","Erik Müller Semperweg 3 Birsfelden","Kerman Vaillancour Mülhauserstrasse 117 Mumpf","Franziska Adler Breitenstrasse 138 Basel","Claudia Schwarz Wiesenstrasse 100 Basel","Pierre Mathieu Breitenstrasse 115 Basel","Sophie Eggers Via dalla Staziun 75 Duggingen","Faye Leduc Breitenstrasse 127 Basel","Xavierre Margand Breitenstrasse 123 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Benjamin Möller Obere Bahnhofstrasse 70 Bättwil","Christabel Bussière Grossmatt 91 Biel/Bienne","Tilly Raymond Wiesenstrasse 15 Basel","Talbot Cantin Breitenstrasse 57 Basel","Marcel Benoit Breitenstrasse 102 Basel","Katharina Austerlitz Casut 113 Liestal","Avelaine Mercure Kornquaderweg 134 Reinach","Katja Zweig Breitenstrasse 82 Basel","Théodore Melanson Tösstalstrasse 30 Wattenwil","Javier Bérubé Semperweg 84 Binningen","Benjamin Eichel Breitenstrasse 25 Basel","Faustin Lamarre Breitenstrasse 124 Basel","Wolfgang Metzger Breitenstrasse 101 Basel","Éric Marois Breitenstrasse 69 Basel","Delmar Parmentier Bergrain 108 Châtillon","Mathias Schultz Via Muraccio 27 Sumiswald","Lotye Margand Breitenstrasse 44 Basel","Avril Séguin Casut 15 Liedertswil","Kevin Fassbinder Schuetzenweg 93 Meisterschwanden","Patrick Schwab Breitenstrasse 58 Basel","Roux Béland Sonnenweg 54 Mariastein","René Ebersbach Wiesenstrasse 28 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Jan Dreher Seefeldstrasse 23 Kienberg","Guerin Marceau Püntstrasse 34 Wyden","Mariette Michaud Breitenstrasse 143 Basel","Cloridan Neufville Breitenstrasse 45 Basel","Robert De La Vergne Wiesenstrasse 17 Basel","Harriette Varieur Schulstrasse 66 Witterswil","Christian Wurfel Breitenstrasse 42 Basel","Patrick Cormier Hasenbühlstrasse 66 Böckten","Amabella Maheu Breitenstrasse 130 Basel","Dieter Wagner Seefeldstrasse 52 Kleinhüningen","Lance Blanchard Wingertweg 12 Engi","Loring Brodeur Wiesenstrasse 96 Basel","Chandler Coupart Breitenstrasse 124 Basel","Ray Leroux Breitenstrasse 127 Basel","Klaus Neustadt Breitenstrasse 128 Basel","Leonie Frueh Rosenweg 13 Langendorf","Mathias Neudorf Glennerstrasse 47 Giebenach","Jeanne Louis Via Camischolas sura 121 Dittingen","Claude Duhamel Breitenstrasse 138 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Émile Allard Obere Bahnhofstrasse 8 Basel","Fayme Jetté Sonnenbergstr 12 Bottmingen","Sebastian Beyer Breitenstrasse 81 Basel","Daniel Müller Breitenstrasse 127 Basel","Silke Naumann Üerklisweg 51 Brüggelbach","Amabella Séguin Spinatsch 142 Movelier","Marlon Guimond Via Albarelle 82 Steinhof","Sophie Möller Grossmatt 136 Beznau","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Christophe Norbert Breitenstrasse 108 Basel","Chappell Fournier Mühle 58 Schweizerhalle","Julienne Riquier Breitenstrasse 106 Basel","Max Schroeder Obere Bahnhofstrasse 97 Bättwil","Jana Zimmerman Semperweg 84 Birsfelden","Troy Paimboeuf Caltgadira 136 Nunningen","Jeanne LaGarde Breitenstrasse 36 Basel","Agnès Dupéré Breitenstrasse 57 Basel","Vick Renaud Brunnenstrasse 132 Röthenbach im Emmental","Patrick Bazin Jakobstrasse 66 Oekingen","Torsten Baecker Obere Haltenstrasse 82 Lützelflüh","Clarimunda Marleau Erlenweg 117 Benken","Christine Freud Via dalla Staziun 108 Duggingen","Ogier Gougeon Breitenstrasse 45 Basel","Lyle Berthelette Casut 15 Limpach","Brunella Garnier Breitenstrasse 58 Basel","Daniela Busch Breitenstrasse 52 Basel","Michael Neustadt Breitenstrasse 53 Basel","Christian Ehrlichmann Üerklisweg 111 Brittnau","Marco Fenstermacher Via Vigizzi 90 Unterbözberg","Loyal Duhamel Schuepisstrasse 146 Ifenthal","Stephan Eggers Breitenstrasse 24 Basel","Royden Renaud Möhe 118 Inkwil","Leah Kirsch Breitenstrasse 55 Basel","Alexandrin Bazinet Breitenstrasse 97 Basel","Marine Lajeunesse Semperweg 144 Binningen","Jessika Gaertner Untere Aegerten 137 Cornol","David Bader Casa Gielgia 108 Muttenz","Silke Luft Obere Bahnhofstrasse 150 Basel","Susanne Boutot Via Altisio 115 Sonterswil"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.770774,47.652566],"lng":[7.208993,9.0524]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
