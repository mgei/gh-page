---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.60018,47.558279,47.606322,47.538756,47.555054,47.561405,47.563118,47.569643,47.521502,47.575554,46.743079,47.551327,47.621182,47.569413,47.573059,47.223398,47.550223,47.368215,47.472089,47.481396,47.517686,47.502116,47.533556,47.569355,46.442577,47.509012,47.245614,47.573826,47.55684,47.526081,47.553804,47.332542,47.611756,47.421577,47.502065,47.242473,47.600427,47.535092,47.597408,47.569959,47.496706,47.585439,47.558661,47.22585,47.482477,46.910683,47.329066,47.542492,47.63954,47.548875,47.56346,47.487275,47.47686,47.466518,47.565249,47.642354,47.54769,47.043146,47.613376,47.208222,46.837699,47.660791,47.561124,47.512121,47.639265,47.273586,47.490066,47.15169,47.519441,47.558046,47.531462,47.363446,47.473988,47.542142,46.841384,47.260741,47.284386,47.550986,47.527208,47.538656,47.555182,47.170486,47.544253,47.46844,47.550581,47.192342,47.531756,47.574983,47.563678,47.511398,46.90163,47.581136,47.521927,47.556856,47.56157,47.421268,47.245597,47.308179,47.566237,47.542128],[7.574211,7.596686,7.603935,7.587641,7.57953,7.592303,7.598474,7.595848,7.599317,7.582251,6.779965,7.58105,7.589753,7.579406,7.595032,8.118127,7.610474,8.094445,7.565505,7.627863,7.630833,7.667216,7.573059,7.57706,7.558508,7.51471,7.591315,7.604937,7.698234,7.581644,7.547647,7.854682,7.558824,7.620247,7.662834,7.582893,7.63909,7.574695,7.589944,7.571221,7.589954,7.608061,7.510647,7.728409,7.519008,6.511653,8.664444,7.637111,7.661571,7.518734,7.573216,7.63518,7.520147,9.16676,7.601322,7.590136,8.051525,7.644822,7.961942,8.17012,8.212038,7.537225,7.605945,7.558569,7.528135,7.964226,7.667433,7.739367,7.584736,7.616867,7.565799,7.400322,7.618279,7.600017,7.748462,7.356981,7.658267,7.638258,7.544996,7.597982,7.563883,7.63906,8.340891,7.588269,7.56136,7.80286,7.613256,7.56895,7.642709,7.620834,8.696662,7.582698,7.607564,7.60594,7.532995,7.432869,7.663301,8.021899,7.537672,7.591028],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Anna Berg Breitenstrasse 39 Basel","Pierre Mathieu Breitenstrasse 115 Basel","Olivie DeGrasse Jakobstrasse 137 Oberwil","Manuela Krueger Breitenstrasse 109 Basel","Mariette Michaud Breitenstrasse 143 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Talbot Cantin Breitenstrasse 57 Basel","Benjamin Eichel Breitenstrasse 25 Basel","René Ebersbach Wiesenstrasse 28 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Belda Grimard Valéestrasse 44 Oppens","Clarimunda Marleau Erlenweg 117 Benken","Leah Bürger Breitenstrasse 120 Basel","Faustin Lamarre Breitenstrasse 124 Basel","Erik Müller Semperweg 3 Birsfelden","Malagigi Labbé Landstrasse 14 Schenkon","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Laura Weiß Pfaffacherweg 139 Schmiedrued","Erik Vogt Wiesenstrasse 101 Basel","Anna Lemann Breitenstrasse 126 Basel","Silke Gottschalk Breitenstrasse 136 Basel","Michael Lange Kornquaderweg 59 Reinach","Rabican Côté Gerbiweg 32 Büren","Christophe Norbert Breitenstrasse 108 Basel","Leonie Osterhagen Postfach 50 Albinen","Tim Dresdner Breitenstrasse 25 Basel","Auguste Laforest Tösstalstrasse 31 Wanzwil","Jana Zimmerman Semperweg 84 Birsfelden","Ulrike Papst Breitenstrasse 31 Basel","Belle Riel Breitenstrasse 3 Basel","Anna Wannemaker Via dalla Staziun 48 Dornach","Agrican Richer Kappelergasse 63 Aarwangen","Dominik Ostermann Wiesenstrasse 105 Basel","Phillipp Kuhn Fortunastrasse 139 Erschwil","Martina Kuster Breitenstrasse 131 Basel","Diana Schwab Landstrasse 120 Schelten","Niklas Theissen Wiesenstrasse 60 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Ferragus Beauchemin Breitenstrasse 50 Basel","Roux Béland Sonnenweg 54 Mariastein","Christian Bieber Semperweg 46 Birsfelden","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Ulrich Durr Breitenstrasse 22 Basel","Eliot Givry Auerstrasse 71 Madiswil","Marie Eberhardt Caltgadira 144 Nunningen","Phillipp Shuster Lichtmattstrasse 100 Buttes","Maik Fischer Quadra 88 Fällanden","Charlot Brodeur Breitenstrasse 106 Basel","Adèle Bertrand Breitenstrasse 32 Basel","Aubin Louineaux Wiesenstrasse 137 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Ute Moeller Semperweg 126 Binningen","Michelle Feierabend Breitenstrasse 55 Basel","Grégoire Flamand Wolfensbergstrasse 82 Riet","Russell Rodrigue Breitenstrasse 148 Basel","Paige Pinette Breitenstrasse 26 Basel","Sebastian Finkel Via Schliffras 69 Galten","Channing Trépanier Kammelenbergstrasse 86 Flühlen","Gabrielle Boutot Forrenböhlstrasse 74 Kaisten","Thomas Beyer Semperweg 33 Birrwil","Lucas Seiler Lützelflühstrasse 106 Wilen","Verrill Compagnon Breitenstrasse 145 Basel","Sylvie Roussel Breitenstrasse 36 Basel","France Maheu Breitenstrasse 17 Basel","Monika Herz Breitenstrasse 144 Basel","Alexander Cole Üerklisweg 32 Brittnau","Claudia Schwarz Wiesenstrasse 100 Basel","Jeannine Rossignol Rosenweg 99 Langenthal","Alexandrin Avare Breitenstrasse 91 Basel","Stephan Eggers Breitenstrasse 24 Basel","Barbara Pabst Breitenstrasse 22 Basel","Tom Roth Fortunastrasse 104 Eschert","Arnou Jetté Postfach 2 Allschwil","Karolin Wirtz Erlenweg 27 Benken","Wyatt Cressac Casa Posrclas 41 Eggiwil","Aubrey Charpie Via Stauffacher 102 Vicques","Sophie Zweig In Stierwisen 27 Mervelier","Gill Viens Breitenstrasse 55 Basel","Creissant Maheu Breitenstrasse 31 Basel","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Toussaint Bussière Forrenböhlstrasse 49 Juchten","Ignace Landry Via Vigizzi 143 Unterehrendingen","Torsten Konig Breitenstrasse 42 Basel","Diana Kruger Breitenstrasse 45 Basel","Benjamin Wechsler Mittlerer Thalackerweg 46 Rütschelen","Azura Jardine Breitenstrasse 11 Basel","Klaus Neustadt Breitenstrasse 128 Basel","Victoire Plouffe Breitenstrasse 17 Basel","Jonas Krueger Breitenstrasse 63 Basel","Curtis Chandonnet Via Altisio 105 Spiringen","Romain Thériault Grossmatt 58 Biel-Benken","Joséphine Boucher Breitenstrasse 60 Basel","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Marcel Benoit Breitenstrasse 102 Basel","Barry Lapierre Wiesenstrasse 43 Bärschwil","Heike Meister Jakobstrasse 78 Oensingen","Wolfgang Pfeffer Mülhauserstrasse 128 Mühlethal","Tom Glockner Breitenstrasse 25 Basel","Xavier Faubert Breitenstrasse 59 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.442577,47.660791],"lng":[6.511653,9.16676]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
