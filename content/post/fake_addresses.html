---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.556856,46.87419,47.021084,47.657478,47.569643,47.476953,47.561405,47.563118,47.505174,47.541668,47.558279,47.159777,47.524874,47.575554,46.722466,47.555054,47.57356,47.558046,47.551327,47.682339,47.447878,47.293632,47.486201,47.566917,46.988435,47.037317,47.539606,47.509855,47.521502,47.618491,47.533556,47.569355,47.480431,47.466031,47.550581,47.660759,47.538442,47.256451,47.521927,47.523857,47.22494,47.56346,47.550223,47.666462,47.439988,47.553804,47.561124,46.921385,47.588734,47.590804,47.617086,47.557945,47.548882,47.640278,47.564054,47.478262,47.538656,47.48493,47.247613,47.574983,47.574195,47.558181,47.565249,47.535334,47.550561,47.565718,47.133685,47.565456,47.573673,47.557921,47.542142,47.503331,47.575762,47.553523,47.315218,47.474394,47.522546,47.548875,47.531462,47.611756,47.660791,47.535092,47.640673,47.615021,47.573059,47.5661,47.580042,47.516516,46.903554,47.643129,47.486572,47.554096,47.487275,47.336115,47.454219,47.538756,47.500227,47.508941,47.219662,47.558661],[7.60594,7.229771,7.236323,7.552942,7.595848,7.630229,7.592303,7.598474,7.568498,7.631807,7.596686,7.392139,7.577415,7.582251,6.632782,7.57953,7.600375,7.616867,7.58105,8.646114,7.452848,8.322313,7.515986,7.564617,7.37212,8.170281,7.522962,7.572892,7.599317,7.54454,7.573059,7.57706,7.53929,7.559103,7.56136,7.587034,7.567656,7.486582,7.607564,7.611819,7.765738,7.573216,7.610474,7.67678,7.47207,7.547647,7.605945,7.159059,7.604532,7.523112,7.527623,7.607284,7.515675,7.552901,7.531788,7.64995,7.597982,8.811,7.349284,7.56895,7.654696,7.618411,7.601322,7.569795,7.615492,7.604323,7.710157,7.553322,7.55021,7.547877,7.600017,7.578087,7.582729,7.610919,9.390895,7.515862,7.565465,7.518734,7.565799,7.558824,7.537225,7.574695,7.600171,7.656941,7.595032,7.562713,7.568196,7.58587,8.218079,7.675151,7.599257,7.638068,7.63518,7.924698,8.28014,7.587641,7.620991,7.6681,7.577864,7.510647],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Lorraine Marcheterre Untere Aegerten 10 Cormagens","Methena Bordeaux Damunt 112 Oberruntigen","Frédérique Simard Breitenstrasse 83 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Thomas Schwartz Quadra 8 Ettingen","Gilles Gervais Kornquaderweg 66 Reinach","Talbot Cantin Breitenstrasse 57 Basel","Steffen Reinhard Jakobstrasse 30 Oberwil","Fleur Benjamin Breitenstrasse 138 Basel","Pierre Mathieu Breitenstrasse 115 Basel","Jonas Baum Püntstrasse 99 Worben","Russell Édouard Grossmatt 145 Biel-Benken","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Neville Carrière Stradun 44 Goumoens-la-Ville","Mariette Michaud Breitenstrasse 143 Basel","Gano Massé Breitenstrasse 100 Basel","Stephan Eggers Breitenstrasse 24 Basel","Clarimunda Marleau Erlenweg 117 Benken","Arno Dupont Via dalla Staziun 38 Dörflingen","Katrin Schroeder Kopfhölzistrasse 5 Laufen","Hugh Coupart Seefeldstrasse 88 Kestenberg","Sophia Eisenhauer Breitenstrasse 82 Basel","Lotye Margand Breitenstrasse 44 Basel","Sandra Krüger Casa Gielgia 142 Murzelen","Wolfgang Bieber Auerstrasse 87 Malters","Karin Fenstermacher Breitenstrasse 108 Basel","Courtland Laforest Breitenstrasse 16 Basel","René Ebersbach Wiesenstrasse 28 Basel","Marc Rivière Breitenstrasse 104 Basel","Rabican Côté Gerbiweg 32 Büren","Christophe Norbert Breitenstrasse 108 Basel","Martina Brandt Wiesenstrasse 53 Basel","Royce Mothé Kappelergasse 87 Aesch","Diana Kruger Breitenstrasse 45 Basel","Vincent Bilodeau Seefeldstrasse 135 Kleinhüningen","Frontino Boisclair Quadra 75 Ettingen","Agate Jodoin Via Luzzas 28 Feldbrunnen-St. Niklaus","Joséphine Boucher Breitenstrasse 60 Basel","Albertine Pouchard Breitenstrasse 125 Basel","Felix Maier Wolfensbergstrasse 126 Riedtwil","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Paul Friedman Breitenstrasse 81 Basel","Florian Drechsler Plattenstrasse 15 Recolaine","Anna Wannemaker Via dalla Staziun 48 Dornach","Sylvie Roussel Breitenstrasse 36 Basel","Maurice Létourneau Casut 69 Liebistorf","Kristin Probst Breitenstrasse 93 Basel","Maria Roth Kornquaderweg 11 Reinach","Barbara Egger Breitenstrasse 132 Basel","Jennifer Krause Breitenstrasse 132 Basel","Sarah Holzman Breitenstrasse 104 Basel","Katja Zweig Breitenstrasse 82 Basel","Agathe CinqMars Breitenstrasse 48 Basel","Fanchon Paimboeuf Kopfhölzistrasse 57 Lauwil","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Ulrich Sommer Lützelflühstrasse 86 Wildberg","Logistilla Crête Bösch 43 Courtételle","Klaus Neustadt Breitenstrasse 128 Basel","Dorothée Laliberté Grossmatt 99 Bettingen","Felix Neudorf Breitenstrasse 76 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Kathrin Scherer Breitenstrasse 24 Basel","Xavierre Margand Breitenstrasse 123 Basel","Oriel Chenard Gartenhof 117 Arlesheim","Julia Hertzog Boldistrasse 106 Niederönz","Amedee Pomerleau Breitenstrasse 8 Basel","Holly Garnier Breitenstrasse 14 Basel","Fabienne Therriault Breitenstrasse 98 Basel","Karolin Wirtz Erlenweg 27 Benken","Ralf Schwab Breitenstrasse 17 Basel","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Wolfgang Metzger Breitenstrasse 101 Basel","Albertine Gagné Üerklisweg 124 Brülisau","Simone Durr Jakobstrasse 1 Oberwil","Eric Drescher Breitenstrasse 119 Basel","Aubin Louineaux Wiesenstrasse 137 Basel","Barbara Pabst Breitenstrasse 22 Basel","Dominik Ostermann Wiesenstrasse 105 Basel","Verrill Compagnon Breitenstrasse 145 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Stephan Klug Wolfensbergstrasse 41 Riehen","Marcel Frei Breitenstrasse 145 Basel","Erik Müller Semperweg 3 Birsfelden","Stefan Junker Kornquaderweg 14 Reinach","Isaac Cliche Obere Bahnhofstrasse 43 Bättwil","Ancelote Thériault Breitenstrasse 21 Basel","Dirk Rothstein Via Pestariso 10 St. Niklausen","Simone Dresner Wiesenstrasse 107 Basel","Prewitt Harquin Breitenstrasse 7 Basel","Heike Fuerst Via Schliffras 49 Gempen","Ute Moeller Semperweg 126 Binningen","Torsten Schroeder Via dalla Staziun 138 Dulliken","Noelle Lazure Schuetzenweg 58 Mellstorf","Manuela Krueger Breitenstrasse 109 Basel","Pansy Lambert Wiesenstrasse 23 Basel","Uwe Rothstein Breitenstrasse 69 Basel","Marlon Guimond Via Albarelle 82 Steinhof","Ulrich Durr Breitenstrasse 22 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.722466,47.682339],"lng":[6.632782,9.390895]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
