---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.577318,47.569355,47.534042,47.561405,47.30617,47.558279,47.214394,47.580472,47.569959,47.555054,47.485482,47.514232,47.634444,47.553523,47.535334,47.232057,47.142878,47.539269,47.573059,47.418167,47.551327,47.558181,47.565249,47.540379,47.176031,47.575762,47.223975,47.573673,47.242521,47.555182,47.569643,47.509408,47.580042,47.513229,46.881798,47.563118,47.550561,47.508225,47.371256,47.371546,47.558046,47.271406,47.561124,47.517686,47.575554,47.584901,47.226852,47.533556,47.481396,47.509248,47.575576,47.506912,47.526081,47.508575,47.494167,47.500626,47.5661,46.414771,46.905015,47.569413,47.589806,47.538442,47.048141,47.606636,47.570562,47.556856,47.538756,47.61058,47.612312,47.555402,47.565456,47.555653,47.501767,47.504739,47.563824,47.611454,47.519362,47.481595,47.241066,47.452472,47.35987,46.770743,47.581136,47.598788,47.482423,47.557921,47.584676,47.516265,47.531756,47.38225,47.587961,47.455481,47.415301,47.064856,47.63481,47.436527,47.557945,47.441426,47.50109,47.525576],[7.589925,7.57706,7.654217,7.592303,7.086755,7.596686,7.354715,7.844186,7.571221,7.57953,7.694642,7.555697,8.676407,7.610919,7.569795,7.647347,7.91931,7.551909,7.595032,7.64002,7.58105,7.618411,7.601322,7.570688,7.518029,7.582729,7.532916,7.55021,7.444083,7.563883,7.595848,7.6614,7.568196,7.550889,7.158792,7.598474,7.615492,7.623969,8.554593,7.684877,7.616867,7.534141,7.605945,7.630833,7.582251,7.649638,7.629121,7.573059,7.627863,7.88332,7.54412,7.615894,7.581644,7.610184,7.58966,8.315556,7.562713,7.348685,6.998477,7.579406,7.564405,7.567656,7.407687,7.581137,7.534372,7.60594,7.587641,7.621827,7.536319,7.630928,7.553322,7.687831,7.614658,7.499684,7.509301,7.647223,7.602948,7.587766,7.795066,7.784123,8.211762,6.937943,7.582698,7.679486,7.542876,7.547877,7.638125,7.520297,7.613256,8.163043,7.625032,7.080257,7.132324,7.460102,7.597896,7.659295,7.607284,7.378455,8.323767,7.604952],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Avelaine Mercure Kornquaderweg 134 Reinach","Christophe Norbert Breitenstrasse 108 Basel","Éric Marois Breitenstrasse 69 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Patience Bonenfant Rosenweg 9 Lajoux","Pierre Mathieu Breitenstrasse 115 Basel","Thomas Probst Stradun 39 Granges","Kerman Goudreau Mülhauserstrasse 118 Mumpf","Roux Béland Sonnenweg 54 Mariastein","Mariette Michaud Breitenstrasse 143 Basel","Ila Cartier Breitenstrasse 52 Basel","Julienne Riquier Breitenstrasse 106 Basel","Dirk Loewe Kammelenbergstrasse 52 Flaach","Wolfgang Metzger Breitenstrasse 101 Basel","Kathrin Scherer Breitenstrasse 24 Basel","Henriette Bonneville Via Muraccio 135 Subingen","Royale Vallée Vallerstrasse 24 Pfaffnau","Karin Hertz Breitenstrasse 43 Basel","Erik Müller Semperweg 3 Birsfelden","Claude Fongemie Im Sandbüel 26 Füllinsdorf","Clarimunda Marleau Erlenweg 117 Benken","Felix Neudorf Breitenstrasse 76 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Marine Lajeunesse Semperweg 144 Binningen","Susanne Kaufmann Pfaffacherweg 98 Scheunenberg","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Faustin Binet Mülhauserstrasse 13 Mühledorf","Holly Garnier Breitenstrasse 14 Basel","Sophie Ebersbacher Bösch 149 Court","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Benjamin Eichel Breitenstrasse 25 Basel","Johanna Achen Casa Gielgia 24 Muttenz","Isaac Cliche Obere Bahnhofstrasse 43 Bättwil","Jeanne LaGarde Breitenstrasse 36 Basel","Christine Becker Im Wingert 107 Le Péage","Talbot Cantin Breitenstrasse 57 Basel","Xavierre Margand Breitenstrasse 123 Basel","Sennet Bériault Breitenstrasse 96 Basel","Sibyla Primeau Brunnacherstrasse 14 Zürich","Anne Bumgarner Rosenweg 88 Langenbruck","Stephan Eggers Breitenstrasse 24 Basel","Vivienne Langlois Schuepisstrasse 91 Hubersdorf","Sylvie Roussel Breitenstrasse 36 Basel","Silke Gottschalk Breitenstrasse 136 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Jörg Barth Obere Bahnhofstrasse 111 Basel","Charmaine Riquier Caltgadira 86 Niederwil","Rabican Côté Gerbiweg 32 Büren","Anna Lemann Breitenstrasse 126 Basel","Joy Sauriol Via Schliffras 12 Gelterkinden","Gérard Grimard Jakobstrasse 135 Oberwil","Jörg Braun Breitenstrasse 22 Basel","Belle Riel Breitenstrasse 3 Basel","Christian Drescher Breitenstrasse 17 Basel","Mavise Course Grossmatt 76 Biel-Benken","Jesper Lanteigne Grossmatt 62 Beznau","Stefan Junker Kornquaderweg 14 Reinach","Stephan Gerber Stradun 10 Granois","Artus Fortin Untere Aegerten 67 Corminboeuf","Faustin Lamarre Breitenstrasse 124 Basel","Clementine Bellefeuille Erlenweg 46 Benken","Frontino Boisclair Quadra 75 Ettingen","Delit Mouet Püntstrasse 57 Worblaufen","Élodie Douffet Wiesenstrasse 87 Basel","Claudia Krueger Breitenstrasse 104 Basel","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Manuela Krueger Breitenstrasse 109 Basel","Ute Bürger Breitenstrasse 83 Basel","Tanja Winkel Breitenstrasse 67 Basel","Matthias Sommer Breitenstrasse 143 Basel","Amedee Pomerleau Breitenstrasse 8 Basel","Patricia Sauriol Kopfhölzistrasse 73 Lausen","Jens Barth Wolfensbergstrasse 137 Riehen","Daniel Monty Üerklisweg 73 Brislach","Mariette Robert Breitenstrasse 7 Basel","Lucas Faerber Breitenstrasse 115 Basel","Archard St-Jacques Mülhauserstrasse 91 Münchenstein","Brier Larivière Semperweg 24 Binningen","Ulrich Koehler Kammelenbergstrasse 42 Forst","Swen Hoch Scheidweg 131 Häfelfingen","Vick Melanson Spinatsch 96 Möriken-Wildegg","Martina Kluge Piazza Rezzonico 12 Villaz-St-Pierre","Romain Thériault Grossmatt 58 Biel-Benken","Niklas Meyer Breitenstrasse 44 Basel","Ruby Rocher Breitenstrasse 134 Basel","Fabienne Therriault Breitenstrasse 98 Basel","Christian Dubois Im Sandbüel 26 Füllinsdorf","Sarah Bergmann Breitenstrasse 150 Basel","Azura Jardine Breitenstrasse 11 Basel","Marko Dreher Via dalla Staziun 107 Dürrenäsch","Faye Leduc Breitenstrasse 127 Basel","Arno Clément Bösch 42 Courchavon","Channing Arpin Avenue d'Ouchy 88 Porrentruy","Katja Bergmann Via Verbano 102 Unterramsern","Raison Paré Breitenstrasse 145 Basel","Fayette Lapointe Kornquaderweg 10 Reinach","Jennifer Krause Breitenstrasse 132 Basel","Ines Bumgarner Casa Posrclas 62 Ederswiler","Leah Wannemaker Semperweg 82 Birmenstorf","Dennis Beike Breitenstrasse 143 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.414771,47.63481],"lng":[6.937943,8.676407]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
