---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.542142,47.401978,47.561405,47.565456,47.409934,47.57356,47.590884,47.507914,47.25927,47.486218,47.598701,47.541389,47.558279,47.573059,47.500509,47.513245,47.570562,47.5661,47.555054,47.516516,47.588654,47.573826,47.565718,47.535749,47.511398,47.581136,47.619476,47.475735,47.550986,47.430393,47.261972,47.507836,47.551327,47.49858,47.540379,47.33983,47.328694,47.492882,47.59447,47.535717,47.619054,47.575762,47.461828,47.56346,47.482423,47.550223,47.529811,47.447348,47.733058,46.408781,47.577318,47.526668,47.531756,47.506912,47.01514,47.584901,46.981834,47.535092,47.569413,47.590619,47.298895,47.386365,47.555402,47.563118,47.553523,47.569355,47.558181,47.038528,47.336793,47.569643,47.365998,47.522986,47.569959,47.455421,47.621465,47.5856,47.636256,47.16168,46.703862,47.580042,47.575554,47.50046,47.472392,47.312582,47.53443,47.616888,47.175331,47.587961,47.588734,47.553326,47.514232,47.34506,47.362417,47.275032,47.280549,47.578901,47.529767,47.534613,47.527208,47.59624],[7.600017,7.374571,7.592303,7.553322,7.57726,7.600375,7.687023,7.543268,7.61366,7.679508,7.613038,7.562742,7.596686,7.595032,7.573181,7.587098,7.534372,7.562713,7.57953,7.58587,7.61906,7.604937,7.604323,7.69541,7.620834,7.582698,7.541968,7.646213,7.638258,7.502767,7.751094,7.541453,7.58105,8.719239,7.570688,8.103158,7.973319,7.793975,7.66004,8.385053,7.597133,7.582729,7.643143,7.573216,7.542876,7.610474,7.533264,7.645422,8.437661,8.272582,7.589925,7.560984,7.613256,7.615894,7.408166,7.649638,7.567539,7.574695,7.579406,7.623628,7.696177,7.870305,7.630928,7.598474,7.610919,7.57706,7.618411,7.261211,7.530259,7.595848,7.579612,7.521245,7.571221,7.528043,7.668836,7.555354,7.522736,7.36876,7.795163,7.568196,7.582251,7.543452,7.882311,7.501579,8.157347,7.614402,7.719749,7.625032,7.604532,7.495244,7.555697,8.075913,7.090933,7.292121,7.749411,7.570055,7.463988,7.615801,7.544996,7.535692],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Karolin Wirtz Erlenweg 27 Benken","Stephanie Holtzmann Bösch 67 Courtételle","Gilles Gervais Kornquaderweg 66 Reinach","Amedee Pomerleau Breitenstrasse 8 Basel","Michèle Artois Via dalla Staziun 138 Dornach","Gano Massé Breitenstrasse 100 Basel","Audric Gareau Breitenstrasse 10 Basel","Jolie Blondlot Breitenstrasse 114 Basel","Richard Boucher Gartenhof 17 Attiswil","Christian Mayer Breitenstrasse 25 Basel","Marcelle Duplanty Breitenstrasse 74 Basel","Roux Cormier Via Camischolas sura 28 Dittingen","Pierre Mathieu Breitenstrasse 115 Basel","Erik Müller Semperweg 3 Birsfelden","Mandy Hartmann Erlenweg 109 Benken","Christine Freud Via dalla Staziun 108 Duggingen","Claudia Krueger Breitenstrasse 104 Basel","Stefan Junker Kornquaderweg 14 Reinach","Mariette Michaud Breitenstrasse 143 Basel","Ancelote Thériault Breitenstrasse 21 Basel","Claudia Rothschild Wolfensbergstrasse 43 Riehen","Jana Zimmerman Semperweg 84 Birsfelden","Oriel Chenard Gartenhof 117 Arlesheim","Azura Ruel Breitenstrasse 100 Basel","Jonas Krueger Breitenstrasse 63 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Maik Feierabend Mittlerer Thalackerweg 68 Rümlang","Moore Lanteigne Via Schliffras 89 Gempen","Gill Viens Breitenstrasse 55 Basel","Tanja Koch Kammelenbergstrasse 117 Flüh","Bellamy Clavette Spinatsch 63 Moos","Torsten Lang Breitenstrasse 131 Basel","Clarimunda Marleau Erlenweg 117 Benken","Sara Nacht Mühle 18 Schottikon","Marine Lajeunesse Semperweg 144 Binningen","Laetitia Frappier Via delle Vigne 11 Walde","Hedvige Hétu Clius 117 Obererlinsbach","Henriette Cloutier Strickstrasse 13 Zunzgen","Klaus Theiss Breitenstrasse 14 Basel","Melanie Sankt Zürichstrasse 91 Baden","Lucas Theiss Breitenstrasse 49 Basel","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Annett Nagel Breitenstrasse 105 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Ruby Rocher Breitenstrasse 134 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Sven Reiniger Breitenstrasse 122 Basel","Percy Bernard Piazza Indipendenza 3 Titterten","Arnaud Cyr Clius 107 Oberhallau","Albertine Ruais Semperweg 111 Binn","Avelaine Mercure Kornquaderweg 134 Reinach","Royce Arpin Semperweg 18 Birsfelden","Azura Jardine Breitenstrasse 11 Basel","Jörg Braun Breitenstrasse 22 Basel","Ulrike Vogt Kronwiesenweg 18 Köniz","Jörg Barth Obere Bahnhofstrasse 111 Basel","Martin Schreiner Hasenbühlstrasse 48 Bolligen","Diana Kaiser Via dalla Staziun 46 Duggingen","Faustin Lamarre Breitenstrasse 124 Basel","David Bader Casa Gielgia 108 Muttenz","Pensee Lagrange Mühle 6 Schörlishäusern","Jennifer Decker Jakobstrasse 44 Oftringen","Matthias Sommer Breitenstrasse 143 Basel","Talbot Cantin Breitenstrasse 57 Basel","Wolfgang Metzger Breitenstrasse 101 Basel","Christophe Norbert Breitenstrasse 108 Basel","Felix Neudorf Breitenstrasse 76 Basel","Aubrey Course Casa Posrclas 55 Eigenacher","Mike Propst Allmenrüti 34 Seehof","Benjamin Eichel Breitenstrasse 25 Basel","Stefan Hoch Strickstrasse 69 Zullwil","Norris Archambault Via Camischolas sura 126 Dittingen","Roux Béland Sonnenweg 54 Mariastein","Arnou Chastain Sonnenbergstr 94 Breitenbach","Christian Wurfel Breitenstrasse 42 Basel","Ray Leroux Breitenstrasse 127 Basel","Moore Corbin Breitenstrasse 29 Basel","Jessica Waechter Jakobstrasse 105 Oberwil bei Büren","Stefanie Fink Landstrasse 106 Saxeten","Isaac Cliche Obere Bahnhofstrasse 43 Bättwil","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Robert Naumann Breitenstrasse 119 Basel","Kevin Durr Auerstrasse 13 Mahren","Erik Drechsler Stradun 36 Grandval","Matthias Schreiner Clius 129 Oberflachs","Markus Reinhardt Postfach 51 Allschwil","Marie Mayer Kappelergasse 130 Aegerten","Faye Leduc Breitenstrasse 127 Basel","Kristin Probst Breitenstrasse 93 Basel","Sargent Berie Wiesenstrasse 15 Basel","Julienne Riquier Breitenstrasse 106 Basel","Katrin Himmel Spinatsch 42 Moosleerau","Onfroi Laramée Bösch 140 Courtemautruy","Christina Köhler Stradun 76 Grenchen","Marthe Lauzier Brucknerweg 55 Härkingen","Ralph Gärtner Breitenstrasse 56 Basel","Ancelote Bossé Lichtmattstrasse 148 Burg im Leimental","Pensee Monjeau Breitenstrasse 42 Basel","Creissant Maheu Breitenstrasse 31 Basel","Étienne L'Anglais Breitenstrasse 99 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.408781,47.733058],"lng":[7.090933,8.719239]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
