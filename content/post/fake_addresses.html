---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.527208,47.561405,47.558279,47.565718,47.538974,47.557945,47.569643,47.598788,47.542128,47.550581,47.551327,47.577318,47.577867,47.169473,47.556856,47.5769,47.518341,47.529811,47.538442,47.569959,47.565249,47.47549,47.062419,47.216039,47.575762,47.576325,47.573059,47.494321,47.49703,47.467758,46.963267,47.364508,47.589806,47.291668,47.471625,47.542142,47.370749,47.521927,46.737493,47.610099,47.555402,47.27092,47.235881,47.225572,47.603506,47.555054,47.590262,47.427169,47.598701,47.491034,47.528175,47.669363,47.470827,46.751288,47.619054,47.535092,47.582553,47.553804,47.56346,46.979835,46.866741,47.648498,47.650289,47.553523,47.550288,47.569355,47.58166,47.032591,47.555182,47.580086,47.566917,47.612312,47.558046,47.408624,47.422215,47.507948,46.936171,46.887225,47.569413,47.661914,47.578901,47.574174,47.563118,47.538656,47.622387,47.581136,46.926188,47.573826,47.573673,47.538135,47.392864,47.243524,47.395263,47.535262,47.531756,47.585439,47.540379,47.484207,47.508575,47.511728],[7.544996,7.592303,7.596686,7.604323,7.636048,7.607284,7.595848,7.679486,7.591028,7.56136,7.58105,7.589925,7.625725,7.394894,7.60594,7.674196,7.666012,7.533264,7.567656,7.571221,7.601322,7.661916,8.682356,8.00803,7.582729,7.667008,7.595032,7.52097,7.726496,7.538331,7.389369,7.780153,7.564405,7.692417,7.642748,7.600017,7.406335,7.607564,7.522611,7.604359,7.630928,8.117831,7.536227,7.57418,7.591727,7.57953,7.662171,7.71502,7.613038,7.6616,7.586542,9.041571,8.435673,7.534766,7.597133,7.574695,7.560051,7.547647,7.573216,7.29233,7.340197,7.590299,7.558806,7.610919,7.616943,7.57706,7.490677,7.36553,7.563883,7.654905,7.564617,7.536319,7.616867,7.738193,7.582421,7.558256,7.063011,7.215339,7.579406,7.639816,7.570055,7.650962,7.598474,7.597982,7.596835,7.582698,6.957177,7.604937,7.55021,7.681091,7.9258,7.573572,7.634806,7.635844,7.613256,7.608061,7.570688,7.870109,7.610184,7.585933],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Creissant Maheu Breitenstrasse 31 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Pierre Mathieu Breitenstrasse 115 Basel","Oriel Chenard Gartenhof 117 Arlesheim","Erik Moeller Wiesenstrasse 36 Basel","Jennifer Krause Breitenstrasse 132 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Niklas Meyer Breitenstrasse 44 Basel","Xavier Faubert Breitenstrasse 59 Basel","Diana Kruger Breitenstrasse 45 Basel","Clarimunda Marleau Erlenweg 117 Benken","Avelaine Mercure Kornquaderweg 134 Reinach","Niklas Fischer Wiesenstrasse 106 Basel","Gaetan Bédard Casut 119 Leuzigen","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Kristin Fuerst Breitenstrasse 68 Basel","Lyle Gauvin Via Schliffras 10 Gempen","Sven Reiniger Breitenstrasse 122 Basel","Frontino Boisclair Quadra 75 Ettingen","Roux Béland Sonnenweg 54 Mariastein","Russell Rodrigue Breitenstrasse 148 Basel","Maik Zweig Püntstrasse 97 Ziefen","Juliette Gamache Allmenrüti 29 Schwyz","Anne Baer Brucknerweg 120 Hard","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Susanne Traugott Wiesenstrasse 26 Basel","Erik Müller Semperweg 3 Birsfelden","Arnaude Labrosse Erlenweg 12 Benken","Brigitte Gersten Rägetenstrasse 94 Hochwald","Lisa Beike Wiesenstrasse 77 Basel","Christine Eberhardt Via Vigizzi 147 Uettligen","Loyal Mousseau Rosenweg 148 Langenbruck","Clementine Bellefeuille Erlenweg 46 Benken","Amélie Louis Lichtmattstrasse 143 Bützberg","Alexandrin Bazinet Breitenstrasse 97 Basel","Karolin Wirtz Erlenweg 27 Benken","Adèle Lagueux Bösch 82 Courtételle","Joséphine Boucher Breitenstrasse 60 Basel","Royce Forest Langwiesstrasse 103 Weissenburgberg","Cammile Marseau Wiesenstrasse 90 Basel","Matthias Sommer Breitenstrasse 143 Basel","Christin Mahler Kornquaderweg 114 Retterswil","Sennet DeGrasse Scheidweg 22 Haag","Diana Furst Rägetenstrasse 80 Höngen","Robert De La Vergne Wiesenstrasse 17 Basel","Mariette Michaud Breitenstrasse 143 Basel","Matthias Winkel Casa Gielgia 104 Muttenz","Thorsten Reiniger Rosenweg 110 Langenbruck","Marcelle Duplanty Breitenstrasse 74 Basel","Jessica Propst Breitenstrasse 11 Basel","Dirk Lang Breitenstrasse 107 Basel","Henry Bourassa Schuepisstrasse 147 Hörstetten","Frontino Martineau Valéestrasse 57 Otelfingen","Hedvige Mercure Rosenweg 118 Latterbach","Lucas Theiss Breitenstrasse 49 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Franziska Adler Breitenstrasse 138 Basel","Anna Wannemaker Via dalla Staziun 48 Dornach","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Ulrike Furst Rosenweg 73 Landerswil","Amorette Goddu Üerklisweg 64 Brüggelbach","Beaufort Chicoine Breitenstrasse 147 Basel","Monika Schneider Breitenstrasse 37 Basel","Wolfgang Metzger Breitenstrasse 101 Basel","Maximilian Scherer Vallerstrasse 59 Pfeffingen","Christophe Norbert Breitenstrasse 108 Basel","Olivier Bonenfant Breitenstrasse 116 Basel","Tyson Demers Jakobstrasse 83 Oltigen","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Maria Krueger Breitenstrasse 111 Basel","Lotye Margand Breitenstrasse 44 Basel","Tanja Winkel Breitenstrasse 67 Basel","Stephan Eggers Breitenstrasse 24 Basel","Victoire Aubin Schulstrasse 7 Wintersingen","Sabine Zweig Quadra 30 Ettingen","Max Zimmermann Breitenstrasse 122 Basel","Manuela Weisz Herrenberg 143 Praz","Jay Compagnon Loorenstrasse 4 Chiètres","Faustin Lamarre Breitenstrasse 124 Basel","Isaac Fecteau Breitenstrasse 27 Basel","Ralph Gärtner Breitenstrasse 56 Basel","Mandel Leclerc Breitenstrasse 14 Basel","Talbot Cantin Breitenstrasse 57 Basel","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Patrick Foerster Breitenstrasse 86 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Amarante Trudeau Lungolago 26 Thielle-Wavre","Jana Zimmerman Semperweg 84 Birsfelden","Holly Garnier Breitenstrasse 14 Basel","Jeannine Pomerleau Breitenstrasse 102 Basel","Dominique Neufville Via Albarelle 124 Striegel","Catherine Veilleux Hasenbühlstrasse 134 Bolken","Manuela Krüger Üerklisweg 146 Brislach","Sumner Morin Breitenstrasse 87 Basel","Azura Jardine Breitenstrasse 11 Basel","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Marine Lajeunesse Semperweg 144 Binningen","Susanne Osterhagen Gerbiweg 15 Buckten","Christian Drescher Breitenstrasse 17 Basel","Roch Jobin Seefeldstrasse 10 Kleinhüningen"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.737493,47.669363],"lng":[6.957177,9.041571]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
