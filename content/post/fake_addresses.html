---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.569413,47.669248,47.565249,47.525576,47.569643,47.561405,47.569355,47.529682,47.57356,47.563118,47.561124,47.527208,47.581136,47.572112,47.652284,47.495956,47.594249,47.551327,47.557945,47.533117,47.178306,47.56346,47.594857,47.41409,46.1698,47.573059,47.527728,47.398244,47.485174,47.580086,47.565718,47.558279,47.558181,47.575762,47.550223,47.606636,47.577867,47.594903,47.555402,47.31465,47.517448,47.509408,47.597408,47.5661,47.407607,47.502383,47.575554,47.619754,47.605723,47.538756,47.506912,47.59597,47.553523,47.573826,47.524518,47.534613,47.055521,47.459545,47.558046,47.585439,47.305339,47.599127,47.466543,47.577318,47.542128,47.573673,47.589806,47.504199,47.577179,47.590303,47.555182,47.563824,47.639265,47.60018,47.326124,47.395263,47.468756,47.639425,47.353406,47.51139,47.084989,47.555054,47.566917,47.442798,47.582553,47.588734,47.578167,47.519362,47.486782,47.584901,47.598701,47.185026,47.538135,47.327193,47.501518,47.553243,47.556856,47.385827,46.994067,47.514232],[7.579406,9.121288,7.601322,7.604952,7.595848,7.592303,7.57706,7.499115,7.600375,7.598474,7.605945,7.544996,7.582698,7.499736,7.612243,7.577049,7.662225,7.58105,7.607284,7.697555,7.630882,7.573216,7.636737,7.795263,7.780639,7.595032,7.68373,7.539077,7.527595,7.654905,7.604323,7.596686,7.618411,7.582729,7.610474,7.581137,7.625725,7.632047,7.630928,8.624873,7.660269,7.6614,7.589944,7.562713,7.696352,7.562501,7.582251,7.644874,7.531034,7.587641,7.615894,7.516852,7.610919,7.604937,7.60212,7.615801,8.762756,7.571142,7.616867,7.608061,7.732008,7.641151,8.507065,7.589925,7.591028,7.55021,7.564405,7.782916,7.863268,7.618519,7.563883,7.509301,7.528135,7.574211,7.889956,7.634806,8.037705,7.67573,7.528087,8.032817,9.294069,7.57953,7.564617,7.671054,7.560051,7.604532,7.540974,7.602948,7.562994,7.649638,7.613038,7.405315,7.681091,7.520615,7.54699,7.630678,7.60594,7.21357,7.992761,7.555697],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Faustin Lamarre Breitenstrasse 124 Basel","Dominik Zimmermann Schuepisstrasse 7 Hugelshofen","Russell Rodrigue Breitenstrasse 148 Basel","Dennis Beike Breitenstrasse 143 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Christophe Norbert Breitenstrasse 108 Basel","Paul Beaudry Wiesenstrasse 61 Basel","Gano Massé Breitenstrasse 100 Basel","Talbot Cantin Breitenstrasse 57 Basel","Sylvie Roussel Breitenstrasse 36 Basel","Creissant Maheu Breitenstrasse 31 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Mallory Marcheterre Kammelenbergstrasse 136 Flüh","Alexandrie Rodrigue Breitenstrasse 144 Basel","Aleron Berthelette Brunnacherstrasse 17 Zwingen","Lucas Bureau Grossmatt 137 Bettingen","Clarimunda Marleau Erlenweg 117 Benken","Jennifer Krause Breitenstrasse 132 Basel","Dorene Moquin Strickstrasse 133 Zunzgen","Arber Vallée Clius 117 Obergerlafingen","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Sebastian Beyer Breitenstrasse 81 Basel","Leverett Bossé Kopfhölzistrasse 9 Lausen","Ute Mueller Fortunastrasse 71 Ergisch","Erik Müller Semperweg 3 Birsfelden","Lukas Dreher Wolfensbergstrasse 122 Riehen","Jessica Schroeder Spinatsch 132 Mühle","Bartlett Briard Wiesenstrasse 59 Basel","Maria Krueger Breitenstrasse 111 Basel","Oriel Chenard Gartenhof 117 Arlesheim","Pierre Mathieu Breitenstrasse 115 Basel","Felix Neudorf Breitenstrasse 76 Basel","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Élodie Douffet Wiesenstrasse 87 Basel","Niklas Fischer Wiesenstrasse 106 Basel","Katharina Mauer Breitenstrasse 91 Basel","Matthias Sommer Breitenstrasse 143 Basel","Gérard De La Ronde Mittlerer Thalackerweg 101 Rüschlikon","Mathias Neudorf Glennerstrasse 47 Giebenach","Johanna Achen Casa Gielgia 24 Muttenz","Ferragus Beauchemin Breitenstrasse 50 Basel","Stefan Junker Kornquaderweg 14 Reinach","Maximilian Kuester Piazza Indipendenza 125 Titterten","Éric Bussière Wiesenstrasse 128 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Christin Hoffmann Breitenstrasse 2 Basel","Ignace Coudert Breitenstrasse 147 Basel","Manuela Krueger Breitenstrasse 109 Basel","Jörg Braun Breitenstrasse 22 Basel","Javier Bérubé Semperweg 84 Binningen","Wolfgang Metzger Breitenstrasse 101 Basel","Jana Zimmerman Semperweg 84 Birsfelden","Michelle Freitag Breitenstrasse 105 Basel","Pensee Monjeau Breitenstrasse 42 Basel","Jean Cloutier Pfaffacherweg 31 Schnabelsberg","Harriette Varieur Schulstrasse 66 Witterswil","Stephan Eggers Breitenstrasse 24 Basel","Ralf Grunewald Kammelenbergstrasse 22 Flüh","Ulrike Frei Mühle 63 Schürhof","Philippine Salois Breitenstrasse 106 Basel","Katharina Seiler Brunnacherstrasse 35 Zürich","Avelaine Mercure Kornquaderweg 134 Reinach","Xavier Faubert Breitenstrasse 59 Basel","Holly Garnier Breitenstrasse 14 Basel","Clementine Bellefeuille Erlenweg 46 Benken","Capucine Therriault Gartenhof 58 Arisdorf","Mandy Möller Damunt 61 Obermumpf","Uwe Bergmann Breitenstrasse 72 Basel","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Mariette Robert Breitenstrasse 7 Basel","Monika Herz Breitenstrasse 144 Basel","Anna Berg Breitenstrasse 39 Basel","Mario Koenig Casut 81 Linde","Manuela Krüger Üerklisweg 146 Brislach","Afrodille Paré Damunt 91 Obersulz","Fayette De La Ronde Breitenstrasse 138 Basel","Jessika Hoover Semperweg 69 Blauen","Paul Hoover Sonnenbergstr 93 Bözen","Bernd Meyer Herrenberg 134 Quinten","Mariette Michaud Breitenstrasse 143 Basel","Lotye Margand Breitenstrasse 44 Basel","Fayme Sylvain Kappelergasse 9 Aesch","Franziska Adler Breitenstrasse 138 Basel","Kristin Probst Breitenstrasse 93 Basel","Fayme Jetté Sonnenbergstr 12 Bottmingen","Archard St-Jacques Mülhauserstrasse 91 Münchenstein","Valiant Brian Breitenstrasse 123 Basel","Jörg Barth Obere Bahnhofstrasse 111 Basel","Marcelle Duplanty Breitenstrasse 74 Basel","Xarles Beaupré Vallerstrasse 125 Perrefitte","Jeannine Pomerleau Breitenstrasse 102 Basel","Germaine Déziel Kopfhölzistrasse 67 Laufen","Christian Diederich Stradun 130 Grellingen","Barry Giroux Caltgadira 8 Nuglar-St. Pantaleon","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Oriel Lapresse Mattenstrasse 93 Séprais","Lucas Echeverri Neubertbogen 98 Romoos","Julienne Riquier Breitenstrasse 106 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.1698,47.669248],"lng":[7.21357,9.294069]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
