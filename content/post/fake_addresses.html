---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.565249,47.575978,47.557921,47.122066,47.512442,47.57356,47.48684,47.535092,46.999043,47.561405,47.577318,47.588734,47.555182,47.553523,47.540379,47.621465,47.563118,46.904717,47.661816,47.00342,47.542128,47.424374,47.084784,46.910757,47.566917,47.482677,47.569413,47.581136,47.551327,47.58166,47.606322,47.335204,47.532053,47.273123,47.558279,47.515386,47.36297,47.569355,47.565718,47.319043,47.312962,47.563824,47.573826,47.573059,47.555054,47.5769,47.541876,47.557945,47.054386,47.531462,47.556856,47.564588,47.158017,47.550288,47.461482,46.894578,47.56346,47.558492,47.590662,47.516516,47.654538,46.081702,47.317932,47.503331,47.538656,47.487077,47.486572,47.027697,47.613076,47.523857,47.573673,47.590804,47.554096,47.517375,46.879311,47.398216,47.543962,47.375413,47.446676,47.5661,47.569643,47.173543,47.501521,47.584676,47.474553,47.643516,47.561124,47.508575,47.317995,47.555402,47.527728,47.459545,46.9146,47.560061,47.354872,47.619054,47.541389,47.392761,47.590575,47.095368],[7.601322,7.500755,7.547877,7.738639,7.609501,7.600375,7.699807,7.574695,7.826661,7.592303,7.589925,7.604532,7.563883,7.610919,7.570688,7.668836,7.598474,7.642649,7.574222,7.797626,7.591028,7.628267,7.404876,7.025231,7.564617,7.64644,7.579406,7.582698,7.58105,7.490677,7.603935,7.824564,7.501575,7.395149,7.596686,7.523242,8.119757,7.57706,7.604323,7.970609,8.08093,7.509301,7.604937,7.595032,7.57953,7.674196,7.437767,7.607284,7.501015,7.565799,7.60594,7.669861,7.69001,7.616943,7.657791,6.695678,7.573216,7.629217,7.653433,7.58587,7.691209,8.856185,7.621881,7.578087,7.597982,7.686899,7.599257,7.584153,7.594293,7.611819,7.55021,7.523112,7.638068,7.515177,8.282227,7.478492,7.533791,8.049769,7.53608,7.562713,7.595848,8.173693,7.521893,7.638125,7.118817,7.603349,7.605945,7.610184,7.57337,7.630928,7.68373,7.571142,7.259737,7.522549,8.316141,7.597133,7.562742,7.666222,7.72373,7.419542],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Russell Rodrigue Breitenstrasse 148 Basel","Davet Davignon Breitenstrasse 55 Basel","Fabienne Therriault Breitenstrasse 98 Basel","Claude Ménard Forrenböhlstrasse 92 Juchten","Émile Allard Obere Bahnhofstrasse 8 Basel","Gano Massé Breitenstrasse 100 Basel","Mario Schulz Breitenstrasse 91 Basel","Diana Kaiser Via dalla Staziun 46 Duggingen","Wolfgang Kirsch Sondanella 112 Grünenmatt","Gilles Gervais Kornquaderweg 66 Reinach","Avelaine Mercure Kornquaderweg 134 Reinach","Kristin Probst Breitenstrasse 93 Basel","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Wolfgang Metzger Breitenstrasse 101 Basel","Marine Lajeunesse Semperweg 144 Binningen","Christian Wurfel Breitenstrasse 42 Basel","Talbot Cantin Breitenstrasse 57 Basel","Charline Cliche Hasenbühlstrasse 56 Boll","Courtland Lévesque Breitenstrasse 120 Basel","Erik Freitag Scheidweg 122 Gwatt","Xavier Faubert Breitenstrasse 59 Basel","Paul Werner Fortunastrasse 89 Erschwil","Searlait Migneault Brucknerweg 56 Hardern","Adrien Bois Untere Aegerten 11 Corcelles-près-Payerne","Lotye Margand Breitenstrasse 44 Basel","Mike Schröder Breitenstrasse 86 Basel","Faustin Lamarre Breitenstrasse 124 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Clarimunda Marleau Erlenweg 117 Benken","Olivier Bonenfant Breitenstrasse 116 Basel","Olivie DeGrasse Jakobstrasse 137 Oberwil","Jens Eichelberger Brunnenstrasse 119 Ruefshusen","Ralph Eisenhower Breitenstrasse 1 Basel","Sylvie Bellemare Via Camischolas sura 38 Delémont","Pierre Mathieu Breitenstrasse 115 Basel","Dennis Möller Breitenstrasse 80 Basel","Eustache Bonnet Damunt 5 Obermuhen","Christophe Norbert Breitenstrasse 108 Basel","Oriel Chenard Gartenhof 117 Arlesheim","Lea Vogler Rägetenstrasse 67 Holziken","Uwe Müller Kappelergasse 40 Aarau","Mariette Robert Breitenstrasse 7 Basel","Jana Zimmerman Semperweg 84 Birsfelden","Erik Müller Semperweg 3 Birsfelden","Mariette Michaud Breitenstrasse 143 Basel","Kristin Fuerst Breitenstrasse 68 Basel","Birgit Achen Schulstrasse 114 Witterswil","Jennifer Krause Breitenstrasse 132 Basel","Crescent Quiron Rägetenstrasse 87 Holzmühle","Barbara Pabst Breitenstrasse 22 Basel","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Martin Schneider Wiesenstrasse 59 Basel","Rive Richard Boldistrasse 102 Niederönz","Maximilian Scherer Vallerstrasse 59 Pfeffingen","Petra Cole Breitenstrasse 53 Basel","Jörg Nagel Kronwiesenweg 13 La Brévine","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Jörg Ritter Breitenstrasse 128 Basel","Monika Theiss Forrenböhlstrasse 56 Kaiseraugst","Ancelote Thériault Breitenstrasse 21 Basel","Anna Ostermann Breitenstrasse 46 Basel","Merle Mothé Sonnenbergstr 26 Breno","Alexandrie Lachapelle Jakobstrasse 12 Oensingen","Ralf Schwab Breitenstrasse 17 Basel","Vallis Fecteau Via Pestariso 119 St. Pantaleon","Orva Busson Breitenstrasse 140 Basel","Prewitt Harquin Breitenstrasse 7 Basel","Martina Walter Herrenberg 101 Radelfingen","Claude Duhamel Breitenstrasse 138 Basel","Albertine Pouchard Breitenstrasse 125 Basel","Holly Garnier Breitenstrasse 14 Basel","Maria Roth Kornquaderweg 11 Reinach","Heike Fuerst Via Schliffras 49 Gempen","Gabriele Weber Breitenstrasse 109 Basel","Heike Richter Binzmühlestrasse 85 Sarnen","Pierrette Achin Untere Aegerten 23 Corcelles","Ursula Unger Breitenstrasse 69 Basel","Gaetan Courtemanche Via Franscini 134 Uerkheim","Michelle Cole Via dalla Staziun 94 Dornach","Stefan Junker Kornquaderweg 14 Reinach","Benjamin Eichel Breitenstrasse 25 Basel","Lirienne St-Jacques Auerstrasse 53 Luzern","Anja Krüger Breitenstrasse 134 Basel","Christian Dubois Im Sandbüel 26 Füllinsdorf","Marko Bohm Kammelenbergstrasse 138 Fontenais","Aurélie Grandpré Wiesenstrasse 42 Basel","Sylvie Roussel Breitenstrasse 36 Basel","Christian Drescher Breitenstrasse 17 Basel","Legget Bourque Spinatsch 122 Montsevelier","Matthias Sommer Breitenstrasse 143 Basel","Lukas Dreher Wolfensbergstrasse 122 Riehen","Harriette Varieur Schulstrasse 66 Witterswil","Thomas Herzog Piazza Indipendenza 133 Treiten","Cloridan Neufville Breitenstrasse 45 Basel","Christelle Parent Lichtmattstrasse 62 Büttikon","Lucas Theiss Breitenstrasse 49 Basel","Roux Cormier Via Camischolas sura 28 Dittingen","Stephan Beich Gartenhof 30 Arboldswil","Dominik Goldschmidt Casa Gielgia 101 Muttenz","Varden Pomerleau Gerbiweg 72 Büetigen"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.081702,47.661816],"lng":[6.695678,8.856185]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
