---
slug: "mock-addresses"
date: "2019-01-14"
title: "Generate mock addresses with realistic names and locations"
tags: ["R", "spatial", "mock data", "Youtube", "leaflet", "maps"]
authors: [mgei]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<blockquote>
<p>Originally published on a Github gist: <a href="https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6" class="uri">https://gist.github.com/mgei/0269fb9e4120be24af6b5d1d344b89b6</a></p>
</blockquote>
<div id="fake-name-generator" class="section level1">
<h1>Fake name generator</h1>
<p><a href="https://www.fakenamegenerator.com/order.php">Fake Name Generator</a> allows to generate mock names/addresses. One can choose from plenty of fields to include besides names and addresses, such as date of birth, phone number, ID number, and also lon/lat coordinates.</p>
<p>For the following purpose we will order as many addresses as possible and should not forget to include longitude and latitude. Once this is done, we get an e-mail notification with the download link. Do not worry, it is free. It is trustworthy, I have not got any newsletter spam after ordering.</p>
</div>
<div id="r-for-subsetting-by-location" class="section level1">
<h1>R for subsetting by location</h1>
<p>In the next step we will load the data into R. This will allow us to subset the entries in a realistic way. Imagine we are locally operating a company, a hospital or similar. Our clients or patients are likely to come from nearby. The further a person lives, the less likely he is to be your customer. That’s what we want to simulate.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(leaflet)</code></pre>
<pre class="r"><code>addresses &lt;- read_csv(&quot;postdata/fakeaddresses/FakeNameGenerator.com_f201506b.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Gender = col_character(),
##   Title = col_character(),
##   GivenName = col_character(),
##   Surname = col_character(),
##   StreetAddress = col_character(),
##   City = col_character(),
##   ZipCode = col_double(),
##   CountryFull = col_character(),
##   TelephoneNumber = col_character(),
##   Birthday = col_character(),
##   Age = col_double(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<pre class="r"><code>addresses &lt;- addresses %&gt;% mutate(Birthday = mdy(Birthday),
                                  Title = case_when(Title == &quot;Mr.&quot; ~ &quot;Herr&quot;,
                                  Title == &quot;Mrs.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Ms.&quot; ~ &quot;Frau&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;female&quot; ~ &quot;Frau Dr.&quot;,
                                  Title == &quot;Dr.&quot; &amp; Gender == &quot;male&quot; ~ &quot;Herr Dr.&quot;,
                                  T ~ Title))

head(addresses)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   Gender Title GivenName Surname StreetAddress City  ZipCode CountryFull
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;      
## 1 male   Herr  Erik      Lang    Kronwiesenwe… Kreu…    4500 Switzerland
## 2 male   Herr  David     Leroy   Wolfensbergs… Ried…    4533 Switzerland
## 3 female Frau  Birgit    Fisher  Casut 74      Lied…    4436 Switzerland
## 4 female Frau  Katharina Krause  Wingertweg 1… Enge…    6391 Switzerland
## 5 female Frau  Lea       Koch    Seefeldstras… Klos…    7249 Switzerland
## 6 female Frau  Germaine  Dodier  Üerklisweg 56 Brugg    8740 Switzerland
## # … with 5 more variables: TelephoneNumber &lt;chr&gt;, Birthday &lt;date&gt;,
## #   Age &lt;dbl&gt;, Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</code></pre>
<p>Next we define our own location. Around where we are we want the most addresses. Therefore, we add a column <em>distance</em>.</p>
<pre class="r"><code>mylat &lt;- 47.5596
mylon &lt;- 7.5886

addresses &lt;- addresses %&gt;% 
  mutate(distance = sqrt((Longitude-mylon)^2+(Latitude-mylat)^2))</code></pre>
<p>Finally, we use dplyr’s <code>sample_n()</code> to subsample the addresses in an inverse exponential way and plot it in a leaflet map.</p>
<pre class="r"><code>patients &lt;- addresses %&gt;% sample_n(100, weight = 1/distance^2)

patients %&gt;% 
  leaflet() %&gt;% 
  setView(lng = mylon, lat = mylat, zoom = 10) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(label = ~str_c(GivenName, Surname, StreetAddress, City, sep = &quot; &quot;),
                   radius = 2, color = &quot;red&quot;) %&gt;% 
  addMarkers(label = &quot;Me&quot;, lng = ~mylon, lat = ~mylat)</code></pre>
<pre><code>## Assuming &quot;Longitude&quot; and &quot;Latitude&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[47.5596,7.5886],10,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.551327,47.600427,47.557945,47.542492,47.565249,47.575554,47.518341,46.965314,47.563118,47.569355,47.526081,47.506797,47.577318,47.619054,47.56346,47.224248,47.561124,47.610099,47.550223,47.569413,47.561405,47.671516,47.538756,47.526668,47.474488,47.228717,47.524518,47.524446,47.507088,47.507914,47.554699,47.573059,47.666667,47.553523,47.249837,47.558279,47.613859,47.450387,47.558181,47.139896,47.556856,47.525576,47.204843,47.528704,47.521502,47.565676,47.291627,47.550561,47.490334,47.467241,47.458471,47.517448,46.680209,47.482495,47.574983,47.575762,46.891579,47.099972,46.973199,47.532773,47.550581,46.982174,47.594857,47.569643,47.484532,47.582553,47.516265,47.075098,47.542717,47.52806,47.569959,45.93397,47.471627,46.54506,47.458575,47.515756,47.540379,47.482494,47.425874,47.076497,47.535092,47.666462,47.525764,47.190093,47.555182,47.621182,47.461646,47.573826,47.356912,47.496099,47.603506,47.315645,47.535334,46.901473,47.605723,47.581136,47.434918,47.253396,47.650857,47.555054],[7.58105,7.63909,7.607284,7.637111,7.601322,7.582251,7.666012,7.692915,7.598474,7.57706,7.581644,8.271189,7.589925,7.597133,7.573216,7.629667,7.605945,7.604359,7.610474,7.579406,7.592303,9.024636,7.587641,7.560984,7.709164,7.869825,7.60212,7.690164,7.543252,7.543268,7.495872,7.595032,8.573449,7.610919,7.247333,7.596686,7.537536,7.551559,7.618411,8.583403,7.60594,7.604952,7.468718,7.546305,7.599317,7.680091,7.588993,7.615492,7.69337,7.765175,7.577158,7.660269,8.857646,7.521913,7.56895,7.582729,8.602894,7.54041,7.355311,7.539152,7.56136,7.768534,7.636737,7.595848,7.670779,7.560051,7.520297,7.430826,7.65344,7.678174,7.571221,7.174159,7.681155,8.849862,7.832532,7.520406,7.570688,7.520094,8.295862,7.374867,7.574695,7.67678,7.483586,7.611471,7.563883,7.589753,7.600324,7.604937,7.80617,8.252372,7.591727,8.50128,7.569795,7.449668,7.531034,7.582698,7.542117,7.46917,7.619225,7.57953],2,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,["Clarimunda Marleau Erlenweg 117 Benken","Niklas Theissen Wiesenstrasse 60 Basel","Jennifer Krause Breitenstrasse 132 Basel","Charlot Brodeur Breitenstrasse 106 Basel","Russell Rodrigue Breitenstrasse 148 Basel","Kevin Burger Mittlerer Thalackerweg 32 Rümlang","Lyle Gauvin Via Schliffras 10 Gempen","Stefan Papst Gartenhof 27 Arni","Talbot Cantin Breitenstrasse 57 Basel","Christophe Norbert Breitenstrasse 108 Basel","Belle Riel Breitenstrasse 3 Basel","Auda Daoust Scheidweg 105 Hagenfirst","Avelaine Mercure Kornquaderweg 134 Reinach","Lucas Theiss Breitenstrasse 49 Basel","Jesper Thériault Obere Bahnhofstrasse 40 Basel","Niklas Burger Kappelergasse 33 Aeschi","Sylvie Roussel Breitenstrasse 36 Basel","Cammile Marseau Wiesenstrasse 90 Basel","Sébastien Blondlot Via dalla Staziun 119 Duggingen","Faustin Lamarre Breitenstrasse 124 Basel","Gilles Gervais Kornquaderweg 66 Reinach","Sandra Eichel Via Vigizzi 23 Unterhörstetten","Manuela Krueger Breitenstrasse 109 Basel","Royce Arpin Semperweg 18 Birsfelden","Ninette Brousse Jakobstrasse 57 Olsberg","Aimé Tougas Püntstrasse 55 Zofingen","Michelle Freitag Breitenstrasse 105 Basel","Tabor Arnoux Breitenstrasse 81 Basel","Crescent Rhéaume Breitenstrasse 150 Basel","Jolie Blondlot Breitenstrasse 114 Basel","Manuela Seiler Breitenstrasse 101 Basel","Erik Müller Semperweg 3 Birsfelden","Christien Senneville Valéestrasse 27 Osterfingen","Wolfgang Metzger Breitenstrasse 101 Basel","Claudia Hirsch Bösch 84 Courtételle","Pierre Mathieu Breitenstrasse 115 Basel","Constance Bolduc Breitenstrasse 46 Basel","Bernd Pfeffer Via Stazione 3 Steffen","Felix Neudorf Breitenstrasse 76 Basel","Niklas Schweizer Via Albarelle 26 Steinen","Sabrina Schmid Rägetenstrasse 106 Hofstetten-Flüh","Dennis Beike Breitenstrasse 143 Basel","Ines Schäfer Wiesenstrasse 11 Balmberg","Thomas Quinn Breitenstrasse 148 Basel","René Ebersbach Wiesenstrasse 28 Basel","Alfred Verreau Breitenstrasse 149 Basel","Tom Freeh Wolfensbergstrasse 81 Riedholz","Xavierre Margand Breitenstrasse 123 Basel","Tempeste L'Angelier Via Pestariso 127 St. Chrischona","Aya Parizeau Fortunastrasse 99 Eptingen","Ralph Berg Rägetenstrasse 41 Hochwald","Mathias Neudorf Glennerstrasse 47 Giebenach","Alice Guibord Kappelergasse 69 Acletta","Harriette Salmons Breitenstrasse 59 Basel","Klaus Neustadt Breitenstrasse 128 Basel","Parfait Lajeunesse Grossmatt 89 Biel-Benken","Julia Werner Obere Bahnhofstrasse 77 Bauen","Benjamin Krueger Casa Posrclas 99 Ei","Max Koehler Via delle Vigne 113 Wahlendorf","Jürgen Müller Breitenstrasse 83 Basel","Diana Kruger Breitenstrasse 45 Basel","Thierry Dostie Via delle Vigne 26 Waldhaus","Sebastian Beyer Breitenstrasse 81 Basel","Benjamin Eichel Breitenstrasse 25 Basel","Caresse Quinn Üerklisweg 57 Bubendorf","Franziska Adler Breitenstrasse 138 Basel","Sarah Bergmann Breitenstrasse 150 Basel","Monika Fruehauf Landstrasse 32 Saurenhorn","Dominik Krüger Breitenstrasse 69 Basel","Fanchon Sansouci Breitenstrasse 28 Basel","Roux Béland Sonnenweg 54 Mariastein","Leon Nadel Avenue d'Ouchy 23 Prassurny","David Charette Breitenstrasse 37 Basel","Stephan Schweizer Untere Bahnhofstrasse 36 Campo","Galatee Camus Mittlerer Thalackerweg 7 Rümlingen","Marjolaine Guimond Breitenstrasse 102 Basel","Marine Lajeunesse Semperweg 144 Binningen","Garland Brasseur Kornquaderweg 72 Reinach","Katrin Baader Semperweg 100 Birrhard","Ancelote Cantin Langwiesstrasse 68 Weingarten","Diana Kaiser Via dalla Staziun 46 Duggingen","Paul Friedman Breitenstrasse 81 Basel","Charline Faure Caltgadira 13 Ober Huggerwald","Sabrina Kortig Via Altisio 96 Solothurn","Tom Frankfurter Mittlerer Thalackerweg 16 Rümlang","Leah Bürger Breitenstrasse 120 Basel","Odelette Boucher Üerklisweg 29 Brislach","Jana Zimmerman Semperweg 84 Birsfelden","Uta Faust Casa Posrclas 54 Egerkingen","Sophie Schaefer Üerklisweg 25 Büblikon","Robert De La Vergne Wiesenstrasse 17 Basel","Ute Pfeiffer Brunnacherstrasse 115 Zürich","Kathrin Scherer Breitenstrasse 24 Basel","Sabine Hertzog Erlenweg 122 Bern","Ignace Coudert Breitenstrasse 147 Basel","Romain Thériault Grossmatt 58 Biel-Benken","Katrin Hertzog Landstrasse 51 Schelten","Torsten Köhler Fortunastrasse 20 Eschert","Zacharie Harquin Breitenstrasse 76 Basel","Mariette Michaud Breitenstrasse 143 Basel"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[47.5596,7.5886,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Me",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[45.93397,47.671516],"lng":[7.174159,9.024636]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="youtube-tutorial" class="section level1">
<h1>Youtube tutorial</h1>
{{% youtube "AGb5Yk_d8Lk" %}}
</div>
